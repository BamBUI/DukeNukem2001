	TITLE	D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\tex.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0DD@BIGB@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BF@MBIJ@Cannot?5init?5CPrintfT?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BN@CDMH@Unable?5to?5lock?5vertex?5buffer?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0DK@KCID@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BP@NEML@Unable?5to?5unlock?5vertex?5buffer?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BF@HNDD@Already?5in?5primitive?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BB@DDMK@Not?5in?5primitive?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BD@GDIC@bad?5primitive?5type?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0CJ@MEJC@VManager?3?3end_prim?3?5DrawPrimitiv@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0DC@MINH@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??8@YAHABU_GUID@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??2@YAPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??3@YAXPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XListState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XListState@@QAE@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XChainState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XChainState@@QAE@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0MemStats@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?is_locked@XMutex@@QAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_d_assert@@YAXPBDK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0FindState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0VidTex@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidTex@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidTex@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidView@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidView@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidIf@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetColor@VidIf@@UAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FlatColor@VidIf@@UAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BeginScene@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?EndScene@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Diags@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BeginLines@VidIf@@UAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?EndLines@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidIf@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?realloc@PrimBuffer@@AAEXKK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?reset@PrimBuffer@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Lock@VBuffer@@QAEPAXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Unlock@VBuffer@@QAEXPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?CheckRoom@VManager@@IAEXG@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin_prim@VManager@@QAEPAUDxVertexT@@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end_prim@VManager@@QAEXPAUDxVertexT@@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GPrimBuffer@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1PrimBuffer@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?set@XFontLetter@@QAEXMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get@XFontLetter@@QAEXPAM0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?set_drawable@XFontLetter@@QAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidTexD3D@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XChain@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_head@?$XList@VXStatistic@@@@QAEPAVXStatistic@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXImage@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$autoptr@VXImage@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GXImage@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XChain@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_list@?$XChain@VXStatistic@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_list@?$XList@VXStatistic@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?add_head@?$XList@VXStatistic@@@@QAEPAU_XPos@@PAVXStatistic@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?remove_head@?$XList@VXStatistic@@@@QAEPAVXStatistic@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XRcBase@VCStrObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRcBase@VCStrObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XRcPtr@VCPathObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRcPtr@VCPathObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VXFindLevel@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VXFindLevel@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRingChain@VVBuffer@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VVidTexD3D@@@@QAE@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VVidTexD3D@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCSysObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GXFindLevel@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVBuffer@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?new_node@?$XList@VXStatistic@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VXStatistic@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VXFindLevel@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VVidTexD3D@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DelRef@?$XRcBase@VCStrObj@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DelRef@?$XRcPtr@VCPathObj@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCStrObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCPathObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7VidTex@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7VidTexD3D@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7VidIf@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7CMemMap@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7XMutex@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7VidView@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif
PUBLIC	??2@YAPAXI@Z					; operator new
EXTRN	__imp_@xmalloc@4:NEAR
;	COMDAT ??2@YAPAXI@Z
_TEXT	SEGMENT
_size$ = 8
??2@YAPAXI@Z PROC NEAR					; operator new, COMDAT

; 129  : __inline void *operator new(size_t size){return xmalloc(size);}

	push	ebp
	mov	ebp, esp
	mov	ecx, DWORD PTR _size$[ebp]
	call	DWORD PTR __imp_@xmalloc@4
	pop	ebp
	ret	0
??2@YAPAXI@Z ENDP					; operator new
_TEXT	ENDS
PUBLIC	??3@YAXPAX@Z					; operator delete
EXTRN	__imp_@xfree@4:NEAR
;	COMDAT ??3@YAXPAX@Z
_TEXT	SEGMENT
_ptr$ = 8
??3@YAXPAX@Z PROC NEAR					; operator delete, COMDAT

; 130  : __inline void operator delete(void *ptr){xfree(ptr);}

	push	ebp
	mov	ebp, esp
	mov	ecx, DWORD PTR _ptr$[ebp]
	call	DWORD PTR __imp_@xfree@4
	pop	ebp
	ret	0
??3@YAXPAX@Z ENDP					; operator delete
_TEXT	ENDS
PUBLIC	??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z	; autoptr<XImage>::autoptr<XImage>
PUBLIC	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ	; autoptr<XImage>::operator->
PUBLIC	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z		; VidTexD3D::VidTexD3D
PUBLIC	??_7VidTexD3D@@6B@				; VidTexD3D::`vftable'
PUBLIC	??_GVidTexD3D@@UAEPAXI@Z			; VidTexD3D::`scalar deleting destructor'
PUBLIC	??_EVidTexD3D@@UAEPAXI@Z			; VidTexD3D::`vector deleting destructor'
PUBLIC	??0VidTex@@QAE@XZ				; VidTex::VidTex
EXTRN	__imp_??0CStr@@QAE@PBD@Z:NEAR
EXTRN	__imp_??BCStr@@QBEPADXZ:NEAR
EXTRN	__imp_?get_data@XImage@@QAEPADXZ:NEAR
EXTRN	__imp_?get_width@XImage@@QAEKXZ:NEAR
EXTRN	__imp_?get_height@XImage@@QAEKXZ:NEAR
EXTRN	__imp_?get_bpp@XImage@@QAEKXZ:NEAR
EXTRN	__imp_?get_format@XImage@@QAEKXZ:NEAR
EXTRN	__imp_??4autochar@@QAEAAV0@PAD@Z:NEAR
;	COMDAT ??_7VidTexD3D@@6B@
; File D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\tex.cpp
CONST	SEGMENT
??_7VidTexD3D@@6B@ DD FLAT:??_EVidTexD3D@@UAEPAXI@Z	; VidTexD3D::`vftable'
CONST	ENDS
_TEXT	SEGMENT
$T65923 = -8
_Name$ = 8
_Image$ = 12
_this$ = -12
??0VidTexD3D@@QAE@PBDPAVXImage@@@Z PROC NEAR		; VidTexD3D::VidTexD3D

; 29   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0VidTex@@QAE@XZ			; VidTex::VidTex
	mov	eax, DWORD PTR _Image$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z ; autoptr<XImage>::autoptr<XImage>
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+36], 0
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+40], 0
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET FLAT:??_7VidTexD3D@@6B@ ; VidTexD3D::`vftable'

; 30   : 	if (Name)

	cmp	DWORD PTR _Name$[ebp], 0
	je	SHORT $L65216

; 31   : 		name=CStr(Name);

	mov	ecx, DWORD PTR _Name$[ebp]
	push	ecx
	lea	ecx, DWORD PTR $T65923[ebp]
	call	DWORD PTR __imp_??0CStr@@QAE@PBD@Z
	mov	ecx, eax
	call	DWORD PTR __imp_??BCStr@@QBEPADXZ
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??4autochar@@QAEAAV0@PAD@Z
$L65216:

; 32   : 
; 33   : 	width=image->get_width();

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ; autoptr<XImage>::operator->
	mov	ecx, eax
	call	DWORD PTR __imp_?get_width@XImage@@QAEKXZ
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+8], eax

; 34   : 	height=image->get_height();

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ; autoptr<XImage>::operator->
	mov	ecx, eax
	call	DWORD PTR __imp_?get_height@XImage@@QAEKXZ
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+12], eax

; 35   : 	bpp=image->get_bpp();

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ; autoptr<XImage>::operator->
	mov	ecx, eax
	call	DWORD PTR __imp_?get_bpp@XImage@@QAEKXZ
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+16], eax

; 36   : 	d3d_format=tex_d3d_format(image->get_format());

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ; autoptr<XImage>::operator->
	mov	ecx, eax
	call	DWORD PTR __imp_?get_format@XImage@@QAEKXZ
	push	eax
	call	?tex_d3d_format@@YAKK@Z			; tex_d3d_format
	add	esp, 4
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+40], eax

; 37   : 	tex_data=image->get_data();

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ; autoptr<XImage>::operator->
	mov	ecx, eax
	call	DWORD PTR __imp_?get_data@XImage@@QAEPADXZ
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+20], eax

; 38   : }

	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	8
??0VidTexD3D@@QAE@PBDPAVXImage@@@Z ENDP			; VidTexD3D::VidTexD3D
_TEXT	ENDS
PUBLIC	??_7VidTex@@6B@					; VidTex::`vftable'
PUBLIC	??_GVidTex@@UAEPAXI@Z				; VidTex::`scalar deleting destructor'
PUBLIC	??_EVidTex@@UAEPAXI@Z				; VidTex::`vector deleting destructor'
EXTRN	__imp_??0autochar@@QAE@XZ:NEAR
;	COMDAT ??_7VidTex@@6B@
; File D:\Games\duke_nukem_forever\Hacked\MeshEd\vid_main.h
CONST	SEGMENT
??_7VidTex@@6B@ DD FLAT:??_EVidTex@@UAEPAXI@Z		; VidTex::`vftable'
CONST	ENDS
;	COMDAT ??0VidTex@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??0VidTex@@QAE@XZ PROC NEAR				; VidTex::VidTex, COMDAT

; 168  : 	VidTex(void){}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??0autochar@@QAE@XZ
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 24					; 00000018H
	call	DWORD PTR __imp_??0autochar@@QAE@XZ
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET FLAT:??_7VidTex@@6B@ ; VidTex::`vftable'
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0VidTex@@QAE@XZ ENDP					; VidTex::VidTex
_TEXT	ENDS
PUBLIC	??1VidTex@@UAE@XZ				; VidTex::~VidTex
;	COMDAT ??_GVidTex@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8
_this$ = -4
??_GVidTex@@UAEPAXI@Z PROC NEAR				; VidTex::`scalar deleting destructor', COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1VidTex@@UAE@XZ			; VidTex::~VidTex
	mov	eax, DWORD PTR ___flags$[ebp]
	and	eax, 1
	test	eax, eax
	je	SHORT $L57016
	mov	ecx, DWORD PTR _this$[ebp]
	push	ecx
	call	??3@YAXPAX@Z				; operator delete
	add	esp, 4
$L57016:
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??_GVidTex@@UAEPAXI@Z ENDP				; VidTex::`scalar deleting destructor'
_TEXT	ENDS
EXTRN	__imp_??1autochar@@QAE@XZ:NEAR
;	COMDAT ??1VidTex@@UAE@XZ
_TEXT	SEGMENT
_this$ = -4
??1VidTex@@UAE@XZ PROC NEAR				; VidTex::~VidTex, COMDAT

; 169  : 	virtual ~VidTex(void){}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET FLAT:??_7VidTex@@6B@ ; VidTex::`vftable'
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 24					; 00000018H
	call	DWORD PTR __imp_??1autochar@@QAE@XZ
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??1autochar@@QAE@XZ
	mov	esp, ebp
	pop	ebp
	ret	0
??1VidTex@@UAE@XZ ENDP					; VidTex::~VidTex
_TEXT	ENDS
_TEXT	SEGMENT
_img_format$ = 8
?tex_d3d_format@@YAKK@Z PROC NEAR			; tex_d3d_format

; 4    : {

	push	ebp
	mov	ebp, esp
	push	ecx

; 6    : 	{

	mov	eax, DWORD PTR _img_format$[ebp]
	mov	DWORD PTR -4+[ebp], eax
	mov	ecx, DWORD PTR -4+[ebp]
	sub	ecx, 1
	mov	DWORD PTR -4+[ebp], ecx
	cmp	DWORD PTR -4+[ebp], 7
	ja	SHORT $L65210
	mov	edx, DWORD PTR -4+[ebp]
	jmp	DWORD PTR $L65931[edx*4]
$L65202:

; 7    : 		case IMG_FORMAT_I8:
; 8    : 			return D3DFMT_L8;

	mov	eax, 50					; 00000032H
	jmp	SHORT $L65199
$L65203:

; 9    : 		case IMG_FORMAT_P8:
; 10   : 			return D3DFMT_P8;

	mov	eax, 41					; 00000029H
	jmp	SHORT $L65199
$L65204:

; 11   : 		case IMG_FORMAT_AP88:
; 12   : 			return D3DFMT_A8P8;

	mov	eax, 40					; 00000028H
	jmp	SHORT $L65199
$L65205:

; 13   : 		case IMG_FORMAT_RGB_565:
; 14   : 			return D3DFMT_R5G6B5;

	mov	eax, 23					; 00000017H
	jmp	SHORT $L65199
$L65206:

; 15   : 		case IMG_FORMAT_ARGB_1555:
; 16   : 			return D3DFMT_A1R5G5B5;

	mov	eax, 25					; 00000019H
	jmp	SHORT $L65199
$L65207:

; 17   : 		case IMG_FORMAT_ARGB_4444:
; 18   : 			return D3DFMT_A4R4G4B4;

	mov	eax, 26					; 0000001aH
	jmp	SHORT $L65199
$L65208:

; 19   : 		case IMG_FORMAT_RGB_888:
; 20   : 			return D3DFMT_R8G8B8;

	mov	eax, 20					; 00000014H
	jmp	SHORT $L65199
$L65209:

; 21   : 		case IMG_FORMAT_ARGB_8888:
; 22   : 			return D3DFMT_A8R8G8B8;

	mov	eax, 21					; 00000015H
	jmp	SHORT $L65199
$L65210:

; 23   : 		default:
; 24   : 			return 0;

	xor	eax, eax
$L65199:

; 26   : }

	mov	esp, ebp
	pop	ebp
	ret	0
$L65931:
	DD	$L65202
	DD	$L65203
	DD	$L65204
	DD	$L65205
	DD	$L65206
	DD	$L65207
	DD	$L65208
	DD	$L65209
?tex_d3d_format@@YAKK@Z ENDP				; tex_d3d_format
_TEXT	ENDS
PUBLIC	??1VidTexD3D@@UAE@XZ				; VidTexD3D::~VidTexD3D
;	COMDAT ??_GVidTexD3D@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8
_this$ = -4
??_GVidTexD3D@@UAEPAXI@Z PROC NEAR			; VidTexD3D::`scalar deleting destructor', COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1VidTexD3D@@UAE@XZ			; VidTexD3D::~VidTexD3D
	mov	eax, DWORD PTR ___flags$[ebp]
	and	eax, 1
	test	eax, eax
	je	SHORT $L65221
	mov	ecx, DWORD PTR _this$[ebp]
	push	ecx
	call	??3@YAXPAX@Z				; operator delete
	add	esp, 4
$L65221:
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??_GVidTexD3D@@UAEPAXI@Z ENDP				; VidTexD3D::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	??0?$autoptr@VXImage@@@@QAE@XZ			; autoptr<XImage>::autoptr<XImage>
PUBLIC	??0VidTexD3D@@QAE@PBDKKK@Z			; VidTexD3D::VidTexD3D
PUBLIC	?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z	; ImgGetFormatInfo
EXTRN	__imp_??Bautochar@@QAEPADXZ:NEAR
_TEXT	SEGMENT
$T65935 = -12
_Name$ = 8
_Width$ = 12
_Height$ = 16
_Format$ = 20
_this$ = -16
_fmt_info$ = -4
??0VidTexD3D@@QAE@PBDKKK@Z PROC NEAR			; VidTexD3D::VidTexD3D

; 41   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0VidTex@@QAE@XZ			; VidTex::VidTex
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??0?$autoptr@VXImage@@@@QAE@XZ		; autoptr<XImage>::autoptr<XImage>
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax+36], 0
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+40], 0
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx], OFFSET FLAT:??_7VidTexD3D@@6B@ ; VidTexD3D::`vftable'

; 42   : 	ImgFormatInfo *fmt_info;
; 43   : 
; 44   : 	if (Name)

	cmp	DWORD PTR _Name$[ebp], 0
	je	SHORT $L65230

; 45   : 		name=CStr(Name);

	mov	eax, DWORD PTR _Name$[ebp]
	push	eax
	lea	ecx, DWORD PTR $T65935[ebp]
	call	DWORD PTR __imp_??0CStr@@QAE@PBD@Z
	mov	ecx, eax
	call	DWORD PTR __imp_??BCStr@@QBEPADXZ
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??4autochar@@QAEAAV0@PAD@Z
$L65230:

; 46   : 
; 47   : 	width=Width;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR _Width$[ebp]
	mov	DWORD PTR [ecx+8], edx

; 48   : 	height=Height;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _Height$[ebp]
	mov	DWORD PTR [eax+12], ecx

; 49   : 	fmt_info=ImgGetFormatInfo(Format);

	mov	edx, DWORD PTR _Format$[ebp]
	push	edx
	call	?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z ; ImgGetFormatInfo
	add	esp, 4
	mov	DWORD PTR _fmt_info$[ebp], eax

; 50   : 	bpp=fmt_info->bpp;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _fmt_info$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	DWORD PTR [eax+16], edx

; 51   : 	d3d_format=tex_d3d_format(Format);

	mov	eax, DWORD PTR _Format$[ebp]
	push	eax
	call	?tex_d3d_format@@YAKK@Z			; tex_d3d_format
	add	esp, 4
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+40], eax

; 52   : 	tex_free=(char *)xmalloc(width*height*bpp);

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx+8]
	imul	ecx, DWORD PTR [eax+12]
	mov	edx, DWORD PTR _this$[ebp]
	imul	ecx, DWORD PTR [edx+16]
	call	DWORD PTR __imp_@xmalloc@4
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 24					; 00000018H
	call	DWORD PTR __imp_??4autochar@@QAEAAV0@PAD@Z

; 53   : 	tex_data=tex_free;

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 24					; 00000018H
	call	DWORD PTR __imp_??Bautochar@@QAEPADXZ
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+20], eax

; 54   : }

	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	16					; 00000010H
??0VidTexD3D@@QAE@PBDKKK@Z ENDP				; VidTexD3D::VidTexD3D
_TEXT	ENDS
EXTRN	__imp_?format_list@NS_IMAGE@@3PAVImgFormatInfo@@A:BYTE
;	COMDAT ?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z
_TEXT	SEGMENT
_format$ = 8
?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z PROC NEAR	; ImgGetFormatInfo, COMDAT

; 165  : {

	push	ebp
	mov	ebp, esp

; 166  : 	return &NS_IMAGE::format_list[format];

	mov	eax, DWORD PTR _format$[ebp]
	imul	eax, 12					; 0000000cH
	mov	ecx, DWORD PTR __imp_?format_list@NS_IMAGE@@3PAVImgFormatInfo@@A
	add	eax, ecx

; 167  : }

	pop	ebp
	ret	0
?ImgGetFormatInfo@@YAPAVImgFormatInfo@@K@Z ENDP		; ImgGetFormatInfo
_TEXT	ENDS
PUBLIC	??1?$autoptr@VXImage@@@@QAE@XZ			; autoptr<XImage>::~autoptr<XImage>
_TEXT	SEGMENT
_this$ = -4
??1VidTexD3D@@UAE@XZ PROC NEAR				; VidTexD3D::~VidTexD3D

; 57   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET FLAT:??_7VidTexD3D@@6B@ ; VidTexD3D::`vftable'

; 58   : 	if (d3d)

	mov	ecx, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [ecx+36], 0
	je	SHORT $L65237

; 59   : 		d3d->Release();

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+36]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+36]
	mov	ecx, DWORD PTR [edx]
	push	eax
	call	DWORD PTR [ecx+8]
$L65237:

; 60   : 	d3d=null;

	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+36], 0

; 61   : }

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 32					; 00000020H
	call	??1?$autoptr@VXImage@@@@QAE@XZ		; autoptr<XImage>::~autoptr<XImage>
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1VidTex@@UAE@XZ			; VidTex::~VidTex
	mov	esp, ebp
	pop	ebp
	ret	0
??1VidTexD3D@@UAE@XZ ENDP				; VidTexD3D::~VidTexD3D
_TEXT	ENDS
PUBLIC	?create_d3d@VidTexD3D@@QAEXPAUIDirect3DDevice8@@@Z ; VidTexD3D::create_d3d
PUBLIC	?load_tex@VidTexD3D@@QAEXXZ			; VidTexD3D::load_tex
EXTRN	__imp_@xxx_fatal@4:NEAR
_DATA	SEGMENT
$SG65245 DB	'VidTexD3D::create_d3d: Unable to create texture', 00H
_DATA	ENDS
_TEXT	SEGMENT
_dev$ = 8
_this$ = -4
?create_d3d@VidTexD3D@@QAEXPAUIDirect3DDevice8@@@Z PROC NEAR ; VidTexD3D::create_d3d

; 64   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 65   : 	if (dev->CreateTexture(width,height,0,0,(D3DFORMAT)d3d_format,D3DPOOL_MANAGED,&d3d)!=D3D_OK)

	mov	eax, DWORD PTR _this$[ebp]
	add	eax, 36					; 00000024H
	push	eax
	push	1
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+40]
	push	edx
	push	0
	push	0
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+12]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+8]
	push	eax
	mov	ecx, DWORD PTR _dev$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR _dev$[ebp]
	push	eax
	call	DWORD PTR [edx+80]
	test	eax, eax
	je	SHORT $L65244

; 66   : 		xxx_fatal("VidTexD3D::create_d3d: Unable to create texture");

	mov	ecx, OFFSET FLAT:$SG65245
	call	DWORD PTR __imp_@xxx_fatal@4
$L65244:

; 67   : 	
; 68   : 	load_tex();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?load_tex@VidTexD3D@@QAEXXZ		; VidTexD3D::load_tex

; 69   : }

	mov	esp, ebp
	pop	ebp
	ret	4
?create_d3d@VidTexD3D@@QAEXPAUIDirect3DDevice8@@@Z ENDP	; VidTexD3D::create_d3d
_TEXT	ENDS
PUBLIC	?_d_assert@@YAXPBDK@Z				; _d_assert
EXTRN	_D3DXLoadSurfaceFromMemory@40:NEAR
EXTRN	_D3DXFilterTexture@16:NEAR
_DATA	SEGMENT
$SG65255 DB	'D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\tex.cpp'
	DB	00H
	ORG $+3
$SG65259 DB	'VidTexD3D::create_d3d: Unable to get surface of texture', 00H
$SG65264 DB	'VidTexD3D::create_d3d: failed to load texture', 00H
	ORG $+2
$SG65267 DB	'VidTexD3D::create_d3d: failed to create mips', 00H
_DATA	ENDS
_TEXT	SEGMENT
_this$ = -24
_surf$ = -20
_rect$ = -16
?load_tex@VidTexD3D@@QAEXXZ PROC NEAR			; VidTexD3D::load_tex

; 72   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 24					; 00000018H
	mov	DWORD PTR _this$[ebp], ecx
$L65250:

; 73   : 	D_ASSERT(d3d);

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+36], 0
	jne	SHORT $L65253
	push	73					; 00000049H
	push	OFFSET FLAT:$SG65255
	call	?_d_assert@@YAXPBDK@Z			; _d_assert
	add	esp, 8
$L65253:
	xor	ecx, ecx
	test	ecx, ecx
	jne	SHORT $L65250

; 74   : 	IDirect3DSurface8 *surf;
; 75   : 
; 76   : 	if (d3d->GetSurfaceLevel(0,&surf)!=D3D_OK)

	lea	edx, DWORD PTR _surf$[ebp]
	push	edx
	push	0
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+36]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+36]
	mov	edx, DWORD PTR [eax]
	push	ecx
	call	DWORD PTR [edx+60]
	test	eax, eax
	je	SHORT $L65258

; 77   : 		xxx_fatal("VidTexD3D::create_d3d: Unable to get surface of texture");

	mov	ecx, OFFSET FLAT:$SG65259
	call	DWORD PTR __imp_@xxx_fatal@4
$L65258:

; 80   : 
; 81   : 	rect.top=0;

	mov	DWORD PTR _rect$[ebp+4], 0

; 82   : 	rect.left=0;

	mov	DWORD PTR _rect$[ebp], 0

; 83   : 	rect.bottom=height;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+12]
	mov	DWORD PTR _rect$[ebp+12], ecx

; 84   : 	rect.right=width;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR _rect$[ebp+8], eax

; 85   : 
; 86   : 	if (D3DXLoadSurfaceFromMemory(surf,null,null,tex_data,(D3DFORMAT)d3d_format,bpp*width,null,&rect,D3DX_DEFAULT,0)!=D3D_OK)

	push	0
	push	-1
	lea	ecx, DWORD PTR _rect$[ebp]
	push	ecx
	push	0
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx+16]
	imul	ecx, DWORD PTR [eax+8]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+40]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+20]
	push	edx
	push	0
	push	0
	mov	eax, DWORD PTR _surf$[ebp]
	push	eax
	call	_D3DXLoadSurfaceFromMemory@40
	test	eax, eax
	je	SHORT $L65263

; 87   : 		xxx_fatal("VidTexD3D::create_d3d: failed to load texture");

	mov	ecx, OFFSET FLAT:$SG65264
	call	DWORD PTR __imp_@xxx_fatal@4
$L65263:

; 88   : 
; 89   : 	if (D3DXFilterTexture(d3d,null,0,D3DX_DEFAULT)!=D3D_OK)

	push	-1
	push	0
	push	0
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+36]
	push	edx
	call	_D3DXFilterTexture@16
	test	eax, eax
	je	SHORT $L65266

; 90   : 		xxx_fatal("VidTexD3D::create_d3d: failed to create mips");

	mov	ecx, OFFSET FLAT:$SG65267
	call	DWORD PTR __imp_@xxx_fatal@4
$L65266:

; 91   : 
; 92   : 	surf->Release();

	mov	eax, DWORD PTR _surf$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	edx, DWORD PTR _surf$[ebp]
	push	edx
	call	DWORD PTR [ecx+8]

; 93   : }

	mov	esp, ebp
	pop	ebp
	ret	0
?load_tex@VidTexD3D@@QAEXXZ ENDP			; VidTexD3D::load_tex
_TEXT	ENDS
EXTRN	__imp_?_global@@3PAVXGlobal@@A:DWORD
EXTRN	__imp_?assert@XGlobal@@QAEXPBDK@Z:NEAR
;	COMDAT ?_d_assert@@YAXPBDK@Z
_TEXT	SEGMENT
_file$ = 8
_line$ = 12
?_d_assert@@YAXPBDK@Z PROC NEAR				; _d_assert, COMDAT

; 1483 : {

	push	ebp
	mov	ebp, esp

; 1484 : 	_global->assert(file,line);

	mov	eax, DWORD PTR _line$[ebp]
	push	eax
	mov	ecx, DWORD PTR _file$[ebp]
	push	ecx
	mov	edx, DWORD PTR __imp_?_global@@3PAVXGlobal@@A
	mov	ecx, DWORD PTR [edx]
	call	DWORD PTR __imp_?assert@XGlobal@@QAEXPBDK@Z

; 1485 : }

	pop	ebp
	ret	0
?_d_assert@@YAXPBDK@Z ENDP				; _d_assert
_TEXT	ENDS
PUBLIC	?release_d3d@VidTexD3D@@QAEXXZ			; VidTexD3D::release_d3d
_TEXT	SEGMENT
_this$ = -4
?release_d3d@VidTexD3D@@QAEXXZ PROC NEAR		; VidTexD3D::release_d3d

; 96   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 97   : 	if (d3d)

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+36], 0
	je	SHORT $L65272

; 98   : 		d3d->Release();

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+36]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+36]
	mov	eax, DWORD PTR [ecx]
	push	edx
	call	DWORD PTR [eax+8]
$L65272:

; 99   : 	d3d=null;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+36], 0

; 100  : }

	mov	esp, ebp
	pop	ebp
	ret	0
?release_d3d@VidTexD3D@@QAEXXZ ENDP			; VidTexD3D::release_d3d
_TEXT	ENDS
PUBLIC	?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z	; XList<VidTexD3D>::remove
PUBLIC	?remove@TexList@@QAEPAVVidTexD3D@@PAV2@@Z	; TexList::remove
_TEXT	SEGMENT
_obj$ = 8
_this$ = -8
_node$ = -4
?remove@TexList@@QAEPAVVidTexD3D@@PAV2@@Z PROC NEAR	; TexList::remove

; 103  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 104  : 	XNode *node;
; 105  : 
; 106  : 	node=head;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _node$[ebp], ecx
$L65279:

; 107  : 	while(node)

	cmp	DWORD PTR _node$[ebp], 0
	je	SHORT $L65280

; 109  : 		if (node->data==obj)

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx+8]
	cmp	eax, DWORD PTR _obj$[ebp]
	jne	SHORT $L65281

; 111  : 			XList<VidTexD3D>::remove((XPos *)node);

	mov	ecx, DWORD PTR _node$[ebp]
	push	ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z ; XList<VidTexD3D>::remove

; 112  : 			return node->data;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx+8]
	jmp	SHORT $L65276
$L65281:

; 114  : 		node=node->next;

	mov	eax, DWORD PTR _node$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _node$[ebp], ecx

; 115  : 	}

	jmp	SHORT $L65279
$L65280:

; 116  : 	return null;

	xor	eax, eax
$L65276:

; 117  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?remove@TexList@@QAEPAVVidTexD3D@@PAV2@@Z ENDP		; TexList::remove
_TEXT	ENDS
PUBLIC	?find_named@TexList@@QAEPAVVidTexD3D@@PBD@Z	; TexList::find_named
EXTRN	__imp___stricmp:NEAR
_TEXT	SEGMENT
_name$ = 8
_this$ = -12
_node$ = -4
_tex$65291 = -8
?find_named@TexList@@QAEPAVVidTexD3D@@PBD@Z PROC NEAR	; TexList::find_named

; 120  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
	mov	DWORD PTR _this$[ebp], ecx

; 121  : 	XNode *node;
; 122  : 
; 123  : 	node=head;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _node$[ebp], ecx
$L65289:

; 124  : 	while(node)

	cmp	DWORD PTR _node$[ebp], 0
	je	SHORT $L65290

; 126  : 		VidTexD3D *tex=node->data;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR _tex$65291[ebp], eax

; 127  : 
; 128  : 		if (tex->name)

	mov	ecx, DWORD PTR _tex$65291[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??Bautochar@@QAEPADXZ
	test	eax, eax
	je	SHORT $L65293

; 130  : 			if (_stricmp(tex->name,name)==0)

	mov	ecx, DWORD PTR _name$[ebp]
	push	ecx
	mov	ecx, DWORD PTR _tex$65291[ebp]
	add	ecx, 4
	call	DWORD PTR __imp_??Bautochar@@QAEPADXZ
	push	eax
	call	DWORD PTR __imp___stricmp
	add	esp, 8
	test	eax, eax
	jne	SHORT $L65293

; 131  : 				return tex;

	mov	eax, DWORD PTR _tex$65291[ebp]
	jmp	SHORT $L65286
$L65293:

; 133  : 		node=node->next;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	DWORD PTR _node$[ebp], eax

; 134  : 	}

	jmp	SHORT $L65289
$L65290:

; 135  : 	return null;

	xor	eax, eax
$L65286:

; 136  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?find_named@TexList@@QAEPAVVidTexD3D@@PBD@Z ENDP	; TexList::find_named
_TEXT	ENDS
PUBLIC	?release_d3d@TexList@@QAEXXZ			; TexList::release_d3d
_TEXT	SEGMENT
_this$ = -12
_node$ = -4
_tex$65302 = -8
?release_d3d@TexList@@QAEXXZ PROC NEAR			; TexList::release_d3d

; 139  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 12					; 0000000cH
	mov	DWORD PTR _this$[ebp], ecx

; 140  : 	XNode *node;
; 141  : 
; 142  : 	node=head;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _node$[ebp], ecx
$L65300:

; 143  : 	while(node)

	cmp	DWORD PTR _node$[ebp], 0
	je	SHORT $L65301

; 145  : 		VidTexD3D *tex=node->data;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR _tex$65302[ebp], eax

; 146  : 
; 147  : 		tex->release_d3d();

	mov	ecx, DWORD PTR _tex$65302[ebp]
	call	?release_d3d@VidTexD3D@@QAEXXZ		; VidTexD3D::release_d3d

; 148  : 
; 149  : 		node=node->next;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	DWORD PTR _node$[ebp], edx

; 150  : 	}

	jmp	SHORT $L65300
$L65301:

; 151  : }

	mov	esp, ebp
	pop	ebp
	ret	0
?release_d3d@TexList@@QAEXXZ ENDP			; TexList::release_d3d
_TEXT	ENDS
PUBLIC	?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ	; VidTexD3D::get_d3d
PUBLIC	?TexActivate@VidD3D@@UAEKPAVVidTex@@W4vidtexactivatetype_t@@@Z ; VidD3D::TexActivate
EXTRN	?flush@VManager@@QAEXXZ:NEAR			; VManager::flush
_DATA	SEGMENT
	ORG $+3
$SG65312 DB	'VidD3D::TexActivate: Null texture', 00H
	ORG $+2
$SG65316 DB	'VidD3D::TexActivate: Unable to set texture', 00H
_DATA	ENDS
_TEXT	SEGMENT
_Tex$ = 8
_this$ = -8
_tex$ = -4
?TexActivate@VidD3D@@UAEKPAVVidTex@@W4vidtexactivatetype_t@@@Z PROC NEAR ; VidD3D::TexActivate

; 154  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 155  : 	VidTexD3D *tex=(VidTexD3D *)Tex;

	mov	eax, DWORD PTR _Tex$[ebp]
	mov	DWORD PTR _tex$[ebp], eax

; 156  : 
; 157  : 	/* if already current texture */
; 158  : 	if (tex==active_tex)

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR _tex$[ebp]
	cmp	edx, DWORD PTR [ecx+300]
	jne	SHORT $L65310

; 159  : 		return TRUE;

	mov	eax, 1
	jmp	SHORT $L65307
$L65310:

; 160  : 
; 161  : 	vbuffers->flush();

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+52]
	call	?flush@VManager@@QAEXXZ			; VManager::flush

; 162  : 
; 163  : 	if (!tex)

	cmp	DWORD PTR _tex$[ebp], 0
	jne	SHORT $L65311

; 164  : 		xxx_fatal("VidD3D::TexActivate: Null texture");

	mov	ecx, OFFSET FLAT:$SG65312
	call	DWORD PTR __imp_@xxx_fatal@4
$L65311:

; 165  : 
; 166  : 	if (!tex->get_d3d())

	mov	ecx, DWORD PTR _tex$[ebp]
	call	?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ ; VidTexD3D::get_d3d
	test	eax, eax
	jne	SHORT $L65313

; 167  : 		tex->create_d3d(dev);

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+40]
	push	edx
	mov	ecx, DWORD PTR _tex$[ebp]
	call	?create_d3d@VidTexD3D@@QAEXPAUIDirect3DDevice8@@@Z ; VidTexD3D::create_d3d
$L65313:

; 168  : 
; 169  : 	if (dev->SetTexture(0,tex->get_d3d())!=D3D_OK)

	mov	ecx, DWORD PTR _tex$[ebp]
	call	?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ ; VidTexD3D::get_d3d
	push	eax
	push	0
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+40]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+40]
	mov	edx, DWORD PTR [eax]
	push	ecx
	call	DWORD PTR [edx+244]
	test	eax, eax
	je	SHORT $L65315

; 170  : 		xxx_fatal("VidD3D::TexActivate: Unable to set texture");

	mov	ecx, OFFSET FLAT:$SG65316
	call	DWORD PTR __imp_@xxx_fatal@4
$L65315:

; 171  : 
; 172  : 	active_tex=tex;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _tex$[ebp]
	mov	DWORD PTR [eax+300], ecx

; 173  : 
; 174  : 	return FALSE;

	xor	eax, eax
$L65307:

; 175  : }

	mov	esp, ebp
	pop	ebp
	ret	8
?TexActivate@VidD3D@@UAEKPAVVidTex@@W4vidtexactivatetype_t@@@Z ENDP ; VidD3D::TexActivate
_TEXT	ENDS
;	COMDAT ?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ
_TEXT	SEGMENT
_this$ = -4
?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ PROC NEAR ; VidTexD3D::get_d3d, COMDAT

; 274  : 	IDirect3DTexture8 *get_d3d(void){return d3d;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [eax+36]
	mov	esp, ebp
	pop	ebp
	ret	0
?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ ENDP	; VidTexD3D::get_d3d
_TEXT	ENDS
PUBLIC	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head
PUBLIC	?TexLoad@VidD3D@@UAEPAVVidTex@@PBDEKK@Z		; VidD3D::TexLoad
EXTRN	__imp_?generate_mask@XImage@@QAEXK@Z:NEAR
EXTRN	__imp__XLoadBMPDevice:NEAR
EXTRN	__imp__XLoadTGADevice:NEAR
EXTRN	__imp_@fget_extension@4:NEAR
EXTRN	__imp_@fget_filename@4:NEAR
EXTRN	__imp__xxx_printf:NEAR
_DATA	SEGMENT
	ORG $+1
$SG65329 DB	'tga', 00H
$SG65333 DB	'Unable to load %s', 0aH, 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65951 = -24
_path$ = 8
_fatal$ = 12
_flags$ = 16
_mask_color$ = 20
_this$ = -28
_tex$ = -16
_image$ = -12
_ext$ = -20
_is_tga$ = -8
_filename$ = -4
?TexLoad@VidD3D@@UAEPAVVidTex@@PBDEKK@Z PROC NEAR	; VidD3D::TexLoad

; 178  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 32					; 00000020H
	mov	DWORD PTR _this$[ebp], ecx

; 179  : 	VidTexD3D *tex;
; 180  : 	XImage *image;
; 181  : 
; 182  : 	CC8 *ext=fget_extension(path);

	mov	ecx, DWORD PTR _path$[ebp]
	call	DWORD PTR __imp_@fget_extension@4
	mov	DWORD PTR _ext$[ebp], eax

; 183  : 	
; 184  : 	U32 is_tga=FALSE;

	mov	DWORD PTR _is_tga$[ebp], 0

; 185  : 	if (_stricmp(ext,"tga")==0)

	push	OFFSET FLAT:$SG65329
	mov	eax, DWORD PTR _ext$[ebp]
	push	eax
	call	DWORD PTR __imp___stricmp
	add	esp, 8
	test	eax, eax
	jne	SHORT $L65328

; 187  : 		image=XLoadTGADevice(path,&img_device);

	push	0
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 288				; 00000120H
	push	ecx
	mov	edx, DWORD PTR _path$[ebp]
	push	edx
	call	DWORD PTR __imp__XLoadTGADevice
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _image$[ebp], eax

; 188  : 		is_tga=TRUE;

	mov	DWORD PTR _is_tga$[ebp], 1

; 190  : 	else

	jmp	SHORT $L65330
$L65328:

; 191  : 		image=XLoadBMPDevice(path,&img_device,IMG_FORMAT_ARGB_1555);

	push	5
	mov	eax, DWORD PTR _this$[ebp]
	add	eax, 288				; 00000120H
	push	eax
	mov	ecx, DWORD PTR _path$[ebp]
	push	ecx
	call	DWORD PTR __imp__XLoadBMPDevice
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _image$[ebp], eax
$L65330:

; 192  : 	if (!image)

	cmp	DWORD PTR _image$[ebp], 0
	jne	SHORT $L65331

; 194  : 		if (fatal)

	mov	edx, DWORD PTR _fatal$[ebp]
	and	edx, 255				; 000000ffH
	test	edx, edx
	je	SHORT $L65332

; 195  : 			xxx_printf(ERROR_SEVERE,"Unable to load %s\n",path);

	mov	eax, DWORD PTR _path$[ebp]
	push	eax
	push	OFFSET FLAT:$SG65333
	push	1
	call	DWORD PTR __imp__xxx_printf
	add	esp, 12					; 0000000cH
$L65332:

; 196  : 		return null;

	xor	eax, eax
	jmp	SHORT $L65323
$L65331:

; 198  : 
; 199  : 	/* TODO: clean up this hack around true color and masking */
; 200  : 	if (!is_tga)

	cmp	DWORD PTR _is_tga$[ebp], 0
	jne	SHORT $L65335

; 202  : 		if (flags & TEX_LOAD_MASKED)

	mov	ecx, DWORD PTR _flags$[ebp]
	and	ecx, 1
	test	ecx, ecx
	je	SHORT $L65335

; 203  : 			image->generate_mask(mask_color);

	mov	edx, DWORD PTR _mask_color$[ebp]
	push	edx
	mov	ecx, DWORD PTR _image$[ebp]
	call	DWORD PTR __imp_?generate_mask@XImage@@QAEXK@Z
$L65335:

; 205  : 
; 206  : 	CC8 *filename=fget_filename(path);

	mov	ecx, DWORD PTR _path$[ebp]
	call	DWORD PTR __imp_@fget_filename@4
	mov	DWORD PTR _filename$[ebp], eax

; 207  : 	tex=new VidTexD3D(filename,image);

	push	44					; 0000002cH
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65951[ebp], eax
	cmp	DWORD PTR $T65951[ebp], 0
	je	SHORT $L65952
	mov	eax, DWORD PTR _image$[ebp]
	push	eax
	mov	ecx, DWORD PTR _filename$[ebp]
	push	ecx
	mov	ecx, DWORD PTR $T65951[ebp]
	call	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z	; VidTexD3D::VidTexD3D
	mov	DWORD PTR -32+[ebp], eax
	jmp	SHORT $L65953
$L65952:
	mov	DWORD PTR -32+[ebp], 0
$L65953:
	mov	edx, DWORD PTR -32+[ebp]
	mov	DWORD PTR _tex$[ebp], edx

; 208  : 	tex_list.add_head(tex);

	mov	eax, DWORD PTR _tex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head

; 209  : 	
; 210  : 	return tex;

	mov	eax, DWORD PTR _tex$[ebp]
$L65323:

; 211  : }

	mov	esp, ebp
	pop	ebp
	ret	16					; 00000010H
?TexLoad@VidD3D@@UAEPAVVidTex@@PBDEKK@Z ENDP		; VidD3D::TexLoad
_TEXT	ENDS
PUBLIC	?TexLoadBMP@VidD3D@@UAEPAVVidTex@@PBDEK@Z	; VidD3D::TexLoadBMP
_DATA	SEGMENT
	ORG $+1
$SG65349 DB	'Unable to load %s', 0aH, 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65955 = -12
_filename$ = 8
_fatal$ = 12
_flags$ = 16
_this$ = -16
_tex$ = -8
_image$ = -4
?TexLoadBMP@VidD3D@@UAEPAVVidTex@@PBDEK@Z PROC NEAR	; VidD3D::TexLoadBMP

; 214  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 20					; 00000014H
	mov	DWORD PTR _this$[ebp], ecx

; 215  : 	VidTexD3D *tex;
; 216  : 	/* try and load image to best fit device */
; 217  : 	XImage *image=XLoadBMPDevice(filename,&img_device,IMG_FORMAT_ARGB_1555);

	push	5
	mov	eax, DWORD PTR _this$[ebp]
	add	eax, 288				; 00000120H
	push	eax
	mov	ecx, DWORD PTR _filename$[ebp]
	push	ecx
	call	DWORD PTR __imp__XLoadBMPDevice
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _image$[ebp], eax

; 218  : 	if (!image)

	cmp	DWORD PTR _image$[ebp], 0
	jne	SHORT $L65347

; 220  : 		if (fatal)

	mov	edx, DWORD PTR _fatal$[ebp]
	and	edx, 255				; 000000ffH
	test	edx, edx
	je	SHORT $L65348

; 221  : 			xxx_printf(ERROR_SEVERE,"Unable to load %s\n",filename);

	mov	eax, DWORD PTR _filename$[ebp]
	push	eax
	push	OFFSET FLAT:$SG65349
	push	1
	call	DWORD PTR __imp__xxx_printf
	add	esp, 12					; 0000000cH
$L65348:

; 222  : 		return null;

	xor	eax, eax
	jmp	SHORT $L65344
$L65347:

; 224  : 	if (flags & TEX_LOAD_MASKED)

	mov	ecx, DWORD PTR _flags$[ebp]
	and	ecx, 1
	test	ecx, ecx
	je	SHORT $L65350

; 225  : 		image->generate_mask(0);

	push	0
	mov	ecx, DWORD PTR _image$[ebp]
	call	DWORD PTR __imp_?generate_mask@XImage@@QAEXK@Z
$L65350:

; 226  : 	tex=new VidTexD3D(filename,image);

	push	44					; 0000002cH
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65955[ebp], eax
	cmp	DWORD PTR $T65955[ebp], 0
	je	SHORT $L65956
	mov	edx, DWORD PTR _image$[ebp]
	push	edx
	mov	eax, DWORD PTR _filename$[ebp]
	push	eax
	mov	ecx, DWORD PTR $T65955[ebp]
	call	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z	; VidTexD3D::VidTexD3D
	mov	DWORD PTR -20+[ebp], eax
	jmp	SHORT $L65957
$L65956:
	mov	DWORD PTR -20+[ebp], 0
$L65957:
	mov	ecx, DWORD PTR -20+[ebp]
	mov	DWORD PTR _tex$[ebp], ecx

; 227  : 	tex_list.add_head(tex);

	mov	edx, DWORD PTR _tex$[ebp]
	push	edx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head

; 228  : 
; 229  : 	return tex;

	mov	eax, DWORD PTR _tex$[ebp]
$L65344:

; 230  : }

	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?TexLoadBMP@VidD3D@@UAEPAVVidTex@@PBDEK@Z ENDP		; VidD3D::TexLoadBMP
_TEXT	ENDS
PUBLIC	?TexLoadTGA@VidD3D@@UAEPAVVidTex@@PBDEK@Z	; VidD3D::TexLoadTGA
_DATA	SEGMENT
	ORG $+1
$SG65362 DB	'VidD3D::TexLoadTGA: already loaded', 00H
	ORG $+1
$SG65366 DB	'Unable to load %s', 0aH, 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65959 = -12
_filename$ = 8
_fatal$ = 12
_this$ = -16
_tex$ = -8
_image$ = -4
?TexLoadTGA@VidD3D@@UAEPAVVidTex@@PBDEK@Z PROC NEAR	; VidD3D::TexLoadTGA

; 233  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 20					; 00000014H
	mov	DWORD PTR _this$[ebp], ecx

; 234  : 	VidTexD3D	*tex;
; 235  : 
; 236  : 	tex=(VidTexD3D *)TexForName(filename);

	mov	eax, DWORD PTR _filename$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR [edx+188]
	mov	DWORD PTR _tex$[ebp], eax

; 237  : 	if (tex)

	cmp	DWORD PTR _tex$[ebp], 0
	je	SHORT $L65361

; 238  : 		xxx_fatal("VidD3D::TexLoadTGA: already loaded");

	mov	ecx, OFFSET FLAT:$SG65362
	call	DWORD PTR __imp_@xxx_fatal@4
$L65361:

; 239  : 
; 240  : 	/* try and load image to best fit device */
; 241  : 	XImage *image=XLoadTGADevice(filename,&img_device);

	push	0
	mov	eax, DWORD PTR _this$[ebp]
	add	eax, 288				; 00000120H
	push	eax
	mov	ecx, DWORD PTR _filename$[ebp]
	push	ecx
	call	DWORD PTR __imp__XLoadTGADevice
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _image$[ebp], eax

; 242  : 	if (!image)

	cmp	DWORD PTR _image$[ebp], 0
	jne	SHORT $L65364

; 244  : 		if (fatal)

	mov	edx, DWORD PTR _fatal$[ebp]
	and	edx, 255				; 000000ffH
	test	edx, edx
	je	SHORT $L65365

; 245  : 			xxx_printf(ERROR_SEVERE,"Unable to load %s\n",filename);

	mov	eax, DWORD PTR _filename$[ebp]
	push	eax
	push	OFFSET FLAT:$SG65366
	push	1
	call	DWORD PTR __imp__xxx_printf
	add	esp, 12					; 0000000cH
$L65365:

; 246  : 		return null;

	xor	eax, eax
	jmp	SHORT $L65358
$L65364:

; 248  : 
; 249  : 	tex=new VidTexD3D(filename,image);

	push	44					; 0000002cH
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65959[ebp], eax
	cmp	DWORD PTR $T65959[ebp], 0
	je	SHORT $L65960
	mov	ecx, DWORD PTR _image$[ebp]
	push	ecx
	mov	edx, DWORD PTR _filename$[ebp]
	push	edx
	mov	ecx, DWORD PTR $T65959[ebp]
	call	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z	; VidTexD3D::VidTexD3D
	mov	DWORD PTR -20+[ebp], eax
	jmp	SHORT $L65961
$L65960:
	mov	DWORD PTR -20+[ebp], 0
$L65961:
	mov	eax, DWORD PTR -20+[ebp]
	mov	DWORD PTR _tex$[ebp], eax

; 250  : 	tex_list.add_head(tex);

	mov	ecx, DWORD PTR _tex$[ebp]
	push	ecx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head

; 251  : 	
; 252  : 	return tex;

	mov	eax, DWORD PTR _tex$[ebp]
$L65358:

; 253  : }

	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?TexLoadTGA@VidD3D@@UAEPAVVidTex@@PBDEK@Z ENDP		; VidD3D::TexLoadTGA
_TEXT	ENDS
PUBLIC	?TexRelease@VidD3D@@UAEKPAVVidTex@@@Z		; VidD3D::TexRelease
_DATA	SEGMENT
	ORG $+1
$SG65377 DB	'VidD3D::TexRelease: Unable to find texture for freeing', 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65963 = -8
$T65964 = -12
_Tex$ = 8
_this$ = -16
_tex$ = -4
?TexRelease@VidD3D@@UAEKPAVVidTex@@@Z PROC NEAR		; VidD3D::TexRelease

; 256  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 20					; 00000014H
	mov	DWORD PTR _this$[ebp], ecx

; 257  : 	if (!Tex)

	cmp	DWORD PTR _Tex$[ebp], 0
	jne	SHORT $L65373

; 258  : 		return TRUE;

	mov	eax, 1
	jmp	SHORT $L65372
$L65373:

; 259  : 
; 260  : 	VidTexD3D *tex=(VidTexD3D *)Tex;

	mov	eax, DWORD PTR _Tex$[ebp]
	mov	DWORD PTR _tex$[ebp], eax

; 261  : 
; 262  : 	if (!tex_list.remove(tex))

	mov	ecx, DWORD PTR _tex$[ebp]
	push	ecx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?remove@TexList@@QAEPAVVidTexD3D@@PAV2@@Z ; TexList::remove
	test	eax, eax
	jne	SHORT $L65376

; 263  : 		xxx_fatal("VidD3D::TexRelease: Unable to find texture for freeing");

	mov	ecx, OFFSET FLAT:$SG65377
	call	DWORD PTR __imp_@xxx_fatal@4
$L65376:

; 264  : 
; 265  : 	delete tex;

	mov	edx, DWORD PTR _tex$[ebp]
	mov	DWORD PTR $T65964[ebp], edx
	mov	eax, DWORD PTR $T65964[ebp]
	mov	DWORD PTR $T65963[ebp], eax
	cmp	DWORD PTR $T65963[ebp], 0
	je	SHORT $L65965
	push	1
	mov	ecx, DWORD PTR $T65963[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	ecx, DWORD PTR $T65963[ebp]
	call	DWORD PTR [edx]
	mov	DWORD PTR -20+[ebp], eax
	jmp	SHORT $L65966
$L65965:
	mov	DWORD PTR -20+[ebp], 0
$L65966:

; 266  : 
; 267  : 	return TRUE;

	mov	eax, 1
$L65372:

; 268  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?TexRelease@VidD3D@@UAEKPAVVidTex@@@Z ENDP		; VidD3D::TexRelease
_TEXT	ENDS
PUBLIC	?TexReload@VidD3D@@UAEKPAVVidTex@@@Z		; VidD3D::TexReload
_TEXT	SEGMENT
_Tex$ = 8
_this$ = -8
_tex$ = -4
?TexReload@VidD3D@@UAEKPAVVidTex@@@Z PROC NEAR		; VidD3D::TexReload

; 271  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 272  : 	VidTexD3D *tex=(VidTexD3D *)Tex;

	mov	eax, DWORD PTR _Tex$[ebp]
	mov	DWORD PTR _tex$[ebp], eax

; 273  : 	
; 274  : 	if (!tex->get_d3d())

	mov	ecx, DWORD PTR _tex$[ebp]
	call	?get_d3d@VidTexD3D@@QAEPAUIDirect3DTexture8@@XZ ; VidTexD3D::get_d3d
	test	eax, eax
	jne	SHORT $L65386

; 275  : 		tex->create_d3d(dev);

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+40]
	push	edx
	mov	ecx, DWORD PTR _tex$[ebp]
	call	?create_d3d@VidTexD3D@@QAEXPAUIDirect3DDevice8@@@Z ; VidTexD3D::create_d3d

; 276  : 	else

	jmp	SHORT $L65387
$L65386:

; 277  : 		tex->load_tex();

	mov	ecx, DWORD PTR _tex$[ebp]
	call	?load_tex@VidTexD3D@@QAEXXZ		; VidTexD3D::load_tex
$L65387:

; 278  : 
; 279  : 	return TRUE;

	mov	eax, 1

; 280  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?TexReload@VidD3D@@UAEKPAVVidTex@@@Z ENDP		; VidD3D::TexReload
_TEXT	ENDS
PUBLIC	?TexForName@VidD3D@@UAEPAVVidTex@@PBD@Z		; VidD3D::TexForName
_TEXT	SEGMENT
_name$ = 8
_this$ = -4
?TexForName@VidD3D@@UAEPAVVidTex@@PBD@Z PROC NEAR	; VidD3D::TexForName

; 283  : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 284  : 	return tex_list.find_named(name);

	mov	eax, DWORD PTR _name$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?find_named@TexList@@QAEPAVVidTexD3D@@PBD@Z ; TexList::find_named

; 285  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?TexForName@VidD3D@@UAEPAVVidTex@@PBD@Z ENDP		; VidD3D::TexForName
_TEXT	ENDS
PUBLIC	?CreateBlankTex@VidD3D@@IAEXXZ			; VidD3D::CreateBlankTex
EXTRN	_memset:NEAR
_DATA	SEGMENT
	ORG $+1
$SG65402 DB	'D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\tex.cpp'
	DB	00H
	ORG $+3
$SG65405 DB	'_blank_', 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65970 = -8
_this$ = -12
_tex$ = -4
?CreateBlankTex@VidD3D@@IAEXXZ PROC NEAR		; VidD3D::CreateBlankTex

; 288  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	mov	DWORD PTR _this$[ebp], ecx
$L65397:

; 289  : 	VidTexD3D *tex;
; 290  : 
; 291  : 	D_ASSERT(!blank_tex);

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+304], 0
	je	SHORT $L65400
	push	291					; 00000123H
	push	OFFSET FLAT:$SG65402
	call	?_d_assert@@YAXPBDK@Z			; _d_assert
	add	esp, 8
$L65400:
	xor	ecx, ecx
	test	ecx, ecx
	jne	SHORT $L65397

; 292  : 
; 293  : 	tex=new VidTexD3D("_blank_",16,16,IMG_FORMAT_RGB_565);

	push	44					; 0000002cH
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65970[ebp], eax
	cmp	DWORD PTR $T65970[ebp], 0
	je	SHORT $L65971
	push	4
	push	16					; 00000010H
	push	16					; 00000010H
	push	OFFSET FLAT:$SG65405
	mov	ecx, DWORD PTR $T65970[ebp]
	call	??0VidTexD3D@@QAE@PBDKKK@Z		; VidTexD3D::VidTexD3D
	mov	DWORD PTR -16+[ebp], eax
	jmp	SHORT $L65972
$L65971:
	mov	DWORD PTR -16+[ebp], 0
$L65972:
	mov	edx, DWORD PTR -16+[ebp]
	mov	DWORD PTR _tex$[ebp], edx

; 294  : 	tex_list.add_head(tex);

	mov	eax, DWORD PTR _tex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head

; 295  : 
; 296  : 	memset(tex->tex_data,0,tex->width*tex->height*tex->bpp);

	mov	ecx, DWORD PTR _tex$[ebp]
	mov	edx, DWORD PTR _tex$[ebp]
	mov	eax, DWORD PTR [ecx+8]
	imul	eax, DWORD PTR [edx+12]
	mov	ecx, DWORD PTR _tex$[ebp]
	imul	eax, DWORD PTR [ecx+16]
	push	eax
	push	0
	mov	edx, DWORD PTR _tex$[ebp]
	mov	eax, DWORD PTR [edx+20]
	push	eax
	call	_memset
	add	esp, 12					; 0000000cH

; 297  : 
; 298  : 	blank_tex=tex;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR _tex$[ebp]
	mov	DWORD PTR [ecx+304], edx

; 299  : }

	mov	esp, ebp
	pop	ebp
	ret	0
?CreateBlankTex@VidD3D@@IAEXXZ ENDP			; VidD3D::CreateBlankTex
_TEXT	ENDS
PUBLIC	?GetBlankTex@VidD3D@@UAEPAVVidTex@@XZ		; VidD3D::GetBlankTex
_TEXT	SEGMENT
_this$ = -4
?GetBlankTex@VidD3D@@UAEPAVVidTex@@XZ PROC NEAR		; VidD3D::GetBlankTex

; 302  : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 303  : 	if (!blank_tex)

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+304], 0
	jne	SHORT $L65410

; 304  : 		CreateBlankTex();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?CreateBlankTex@VidD3D@@IAEXXZ		; VidD3D::CreateBlankTex
$L65410:

; 305  : 
; 306  : 	return blank_tex;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [ecx+304]

; 307  : }

	mov	esp, ebp
	pop	ebp
	ret	0
?GetBlankTex@VidD3D@@UAEPAVVidTex@@XZ ENDP		; VidD3D::GetBlankTex
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXImage@@@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??0?$autoptr@VXImage@@@@QAE@XZ PROC NEAR		; autoptr<XImage>::autoptr<XImage>, COMDAT

; 33   : 	inline autoptr(void) : ptr(null) {}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], 0
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0?$autoptr@VXImage@@@@QAE@XZ ENDP			; autoptr<XImage>::autoptr<XImage>
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z
_TEXT	SEGMENT
_Ptr$ = 8
_this$ = -4
??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z PROC NEAR	; autoptr<XImage>::autoptr<XImage>, COMDAT

; 34   : 	inline autoptr(X *Ptr) : ptr(Ptr) {}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _Ptr$[ebp]
	mov	DWORD PTR [eax], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??0?$autoptr@VXImage@@@@QAE@PAVXImage@@@Z ENDP		; autoptr<XImage>::autoptr<XImage>
_TEXT	ENDS
PUBLIC	??_GXImage@@QAEPAXI@Z				; XImage::`scalar deleting destructor'
;	COMDAT ??1?$autoptr@VXImage@@@@QAE@XZ
_TEXT	SEGMENT
$T65979 = -4
$T65980 = -8
_this$ = -12
??1?$autoptr@VXImage@@@@QAE@XZ PROC NEAR		; autoptr<XImage>::~autoptr<XImage>, COMDAT

; 35   : 	inline ~autoptr(void){delete ptr;ptr=null;}

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR $T65980[ebp], ecx
	mov	edx, DWORD PTR $T65980[ebp]
	mov	DWORD PTR $T65979[ebp], edx
	cmp	DWORD PTR $T65979[ebp], 0
	je	SHORT $L65981
	push	1
	mov	ecx, DWORD PTR $T65979[ebp]
	call	??_GXImage@@QAEPAXI@Z			; XImage::`scalar deleting destructor'
	mov	DWORD PTR -16+[ebp], eax
	jmp	SHORT $L65982
$L65981:
	mov	DWORD PTR -16+[ebp], 0
$L65982:
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], 0
	mov	esp, ebp
	pop	ebp
	ret	0
??1?$autoptr@VXImage@@@@QAE@XZ ENDP			; autoptr<XImage>::~autoptr<XImage>
_TEXT	ENDS
;	COMDAT ??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ
_TEXT	SEGMENT
_this$ = -4
??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ PROC NEAR	; autoptr<XImage>::operator->, COMDAT

; 44   : 	inline X *operator -> () {return ptr;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [eax]
	mov	esp, ebp
	pop	ebp
	ret	0
??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ ENDP		; autoptr<XImage>::operator->
_TEXT	ENDS
EXTRN	__imp_??1XImage@@QAE@XZ:NEAR
;	COMDAT ??_GXImage@@QAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8
_this$ = -4
??_GXImage@@QAEPAXI@Z PROC NEAR				; XImage::`scalar deleting destructor', COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_??1XImage@@QAE@XZ
	mov	eax, DWORD PTR ___flags$[ebp]
	and	eax, 1
	test	eax, eax
	je	SHORT $L65441
	mov	ecx, DWORD PTR _this$[ebp]
	push	ecx
	call	??3@YAXPAX@Z				; operator delete
	add	esp, 4
$L65441:
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??_GXImage@@QAEPAXI@Z ENDP				; XImage::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ; XList<VidTexD3D>::new_node
;	COMDAT ?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z
_TEXT	SEGMENT
_ptr$ = 8
_this$ = -8
_node$ = -4
?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z PROC NEAR ; XList<VidTexD3D>::add_head, COMDAT

; 450  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 451  : 	if (!free)

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+8], 0
	jne	SHORT $L65631

; 452  : 		free=new_node();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ; XList<VidTexD3D>::new_node
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+8], eax
$L65631:

; 453  : 
; 454  : 	XNode *node=free;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR _node$[ebp], eax

; 455  : 
; 456  : 	free=free->next;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+8]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx]
	mov	DWORD PTR [eax+8], ecx

; 457  : 	node->data=ptr;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR _ptr$[ebp]
	mov	DWORD PTR [edx+8], eax

; 458  : 	
; 459  : 	node->next=head;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	DWORD PTR [ecx], eax

; 460  : 	node->prev=null;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [ecx+4], 0

; 461  : 	if (!head)

	mov	edx, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [edx], 0
	jne	SHORT $L65633

; 462  : 		tail=node;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [eax+4], ecx

; 463  : 	else

	jmp	SHORT $L65634
$L65633:

; 464  : 		head->prev=node;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [eax+4], ecx
$L65634:

; 465  : 	
; 466  : 	head=node;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _node$[ebp]
	mov	DWORD PTR [edx], eax

; 467  : 
; 468  : 	return (XPos *)head;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [ecx]

; 469  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ENDP ; XList<VidTexD3D>::add_head
_TEXT	ENDS
;	COMDAT ?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z
_TEXT	SEGMENT
_ptr$ = 8
_this$ = -8
_node$ = -4
?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z PROC NEAR ; XList<VidTexD3D>::remove, COMDAT

; 520  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 521  : 	XNode *node=(XNode *)ptr;

	mov	eax, DWORD PTR _ptr$[ebp]
	mov	DWORD PTR _node$[ebp], eax

; 522  : 
; 523  : 	if (node->prev)

	mov	ecx, DWORD PTR _node$[ebp]
	cmp	DWORD PTR [ecx+4], 0
	je	SHORT $L65642

; 524  : 		node->prev->next=node->next;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	DWORD PTR [eax], edx

; 525  : 	else

	jmp	SHORT $L65643
$L65642:

; 526  : 		head=node->next;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	DWORD PTR [eax], edx
$L65643:

; 527  : 
; 528  : 	if (node->next)

	mov	eax, DWORD PTR _node$[ebp]
	cmp	DWORD PTR [eax], 0
	je	SHORT $L65644

; 529  : 		node->next->prev=node->prev;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	eax, DWORD PTR _node$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	DWORD PTR [edx+4], ecx

; 530  : 	else

	jmp	SHORT $L65645
$L65644:

; 531  : 		tail=node->prev;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _node$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	DWORD PTR [edx+4], ecx
$L65645:

; 532  : 
; 533  : 	((XNode *)ptr)->next=free;

	mov	edx, DWORD PTR _ptr$[ebp]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	mov	DWORD PTR [edx], ecx

; 534  : 	free=(XNode *)ptr;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _ptr$[ebp]
	mov	DWORD PTR [edx+8], eax

; 535  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?remove@?$XList@VVidTexD3D@@@@QAEXPAU_XPos@@@Z ENDP	; XList<VidTexD3D>::remove
_TEXT	ENDS
EXTRN	__imp_@xlist_new_node@8:NEAR
;	COMDAT ?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT
_this$ = -4
?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ PROC NEAR ; XList<VidTexD3D>::new_node, COMDAT

; 352  : 	inline XNode *new_node(void){return (XNode *)xlist_new_node(&this->head,sizeof(XNode));}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	edx, 12					; 0000000cH
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_@xlist_new_node@8
	mov	esp, ebp
	pop	ebp
	ret	0
?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ENDP	; XList<VidTexD3D>::new_node
_TEXT	ENDS
END
