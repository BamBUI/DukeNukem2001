	TITLE	D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\font.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0DD@BIGB@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BF@MBIJ@Cannot?5init?5CPrintfT?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BN@CDMH@Unable?5to?5lock?5vertex?5buffer?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0DK@KCID@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BP@NEML@Unable?5to?5unlock?5vertex?5buffer?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BF@HNDD@Already?5in?5primitive?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BB@DDMK@Not?5in?5primitive?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0BD@GDIC@bad?5primitive?5type?$AA@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0CJ@MEJC@VManager?3?3end_prim?3?5DrawPrimitiv@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??_C@_0DC@MINH@D?3?2Games?2duke_nukem_forever?2Hack@
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
;	COMDAT ??8@YAHABU_GUID@@0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??2@YAPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??3@YAXPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XListState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XListState@@QAE@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XChainState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XChainState@@QAE@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0MemStats@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?is_locked@XMutex@@QAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?_d_assert@@YAXPBDK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0FindState@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidTex@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidTex@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidView@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidView@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1VidIf@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?GetColor@VidIf@@UAEKXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?FlatColor@VidIf@@UAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BeginScene@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?EndScene@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Diags@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?BeginLines@VidIf@@UAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?EndLines@VidIf@@UAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVidIf@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _sqrtf
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR2@@QAE@MM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR3@@QAE@MMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXVECTOR4@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXMATRIX@@QAE@MMMMMMMMMMMMMMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXQUATERNION@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXPLANE@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0D3DXCOLOR@@QAE@MMMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?realloc@PrimBuffer@@AAEXKK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?reset@PrimBuffer@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Lock@VBuffer@@QAEPAXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Unlock@VBuffer@@QAEXPAX@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?CheckRoom@VManager@@IAEXG@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?begin_prim@VManager@@QAEPAUDxVertexT@@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?end_prim@VManager@@QAEXPAUDxVertexT@@K@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GPrimBuffer@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1PrimBuffer@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0XFontLetter@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?set@XFontLetter@@QAEXMM@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get@XFontLetter@@QAEXPAM0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?set_drawable@XFontLetter@@QAEXK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?set_letter@XFont@@QAEXDKK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_letter@XFont@@QAEXDPAM0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_pitch@XFont@@QAEXPAM0@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?is_drawable@XFont@@QAEKD@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GXFont@@UAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_H@YGXPAXIHP6EX0@Z@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1XFont@@UAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0FontFile@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1FontFile@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XChain@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?get_head@?$XList@VXStatistic@@@@QAEPAVXStatistic@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??C?$autoptr@VXImage@@@@QAEPAVXImage@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXFont@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$autoptr@VXFont@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XChain@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_list@?$XChain@VXStatistic@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VXStatistic@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_list@?$XList@VXStatistic@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?add_head@?$XList@VXStatistic@@@@QAEPAU_XPos@@PAVXStatistic@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?remove_head@?$XList@VXStatistic@@@@QAEPAVXStatistic@@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XRcBase@VCStrObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRcBase@VCStrObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XRcPtr@VCPathObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRcPtr@VCPathObj@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VXFindLevel@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VXFindLevel@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XRingChain@VVBuffer@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0?$XList@VVidTexD3D@@@@QAE@KK@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??1?$XList@VVidTexD3D@@@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCSysObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GXFindLevel@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GVBuffer@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?new_node@?$XList@VXStatistic@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VXStatistic@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VXFindLevel@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?free_nodes@?$XList@VVidTexD3D@@@@IAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DelRef@?$XRcBase@VCStrObj@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?DelRef@?$XRcPtr@VCPathObj@@@@QAEXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCStrObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_GCPathObj@@QAEPAXI@Z
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7VidTex@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7FontFile@@6BCSysObj@@@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7VidIf@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7XFont@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7CMemMap@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7FontFile@@6BCBaseStream@@@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7XMutex@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_7VidView@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif
PUBLIC	??2@YAPAXI@Z					; operator new
EXTRN	__imp_@xmalloc@4:NEAR
;	COMDAT ??2@YAPAXI@Z
_TEXT	SEGMENT
_size$ = 8
??2@YAPAXI@Z PROC NEAR					; operator new, COMDAT

; 129  : __inline void *operator new(size_t size){return xmalloc(size);}

	push	ebp
	mov	ebp, esp
	mov	ecx, DWORD PTR _size$[ebp]
	call	DWORD PTR __imp_@xmalloc@4
	pop	ebp
	ret	0
??2@YAPAXI@Z ENDP					; operator new
_TEXT	ENDS
PUBLIC	??3@YAXPAX@Z					; operator delete
EXTRN	__imp_@xfree@4:NEAR
;	COMDAT ??3@YAXPAX@Z
_TEXT	SEGMENT
_ptr$ = 8
??3@YAXPAX@Z PROC NEAR					; operator delete, COMDAT

; 130  : __inline void operator delete(void *ptr){xfree(ptr);}

	push	ebp
	mov	ebp, esp
	mov	ecx, DWORD PTR _ptr$[ebp]
	call	DWORD PTR __imp_@xfree@4
	pop	ebp
	ret	0
??3@YAXPAX@Z ENDP					; operator delete
_TEXT	ENDS
PUBLIC	??_H@YGXPAXIHP6EX0@Z@Z				; `vector constructor iterator'
PUBLIC	??0XFontLetter@@QAE@XZ				; XFontLetter::XFontLetter
PUBLIC	??0XFont@@QAE@PAVXImage@@@Z			; XFont::XFont
PUBLIC	??_7XFont@@6B@					; XFont::`vftable'
PUBLIC	??_GXFont@@UAEPAXI@Z				; XFont::`scalar deleting destructor'
PUBLIC	??_EXFont@@UAEPAXI@Z				; XFont::`vector deleting destructor'
EXTRN	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z:NEAR		; VidTexD3D::VidTexD3D
EXTRN	__fltused:NEAR
;	COMDAT ??_7XFont@@6B@
; File D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\font.cpp
CONST	SEGMENT
??_7XFont@@6B@ DD FLAT:??_EXFont@@UAEPAXI@Z		; XFont::`vftable'
CONST	ENDS
_TEXT	SEGMENT
_image$ = 8
_this$ = -4
??0XFont@@QAE@PAVXImage@@@Z PROC NEAR			; XFont::XFont

; 4    : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _image$[ebp]
	push	eax
	push	0
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0VidTexD3D@@QAE@PBDPAVXImage@@@Z	; VidTexD3D::VidTexD3D
	push	OFFSET FLAT:??0XFontLetter@@QAE@XZ	; XFontLetter::XFontLetter
	push	256					; 00000100H
	push	12					; 0000000cH
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 44					; 0000002cH
	push	ecx
	call	??_H@YGXPAXIHP6EX0@Z@Z			; `vector constructor iterator'
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx], OFFSET FLAT:??_7XFont@@6B@ ; XFont::`vftable'

; 5    : 	width=6.0f/256.0f;

	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax+3116], 1019215872	; 3cc00000H

; 6    : 	height=6.0f/256.0f;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+3120], 1019215872	; 3cc00000H

; 7    : }

	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??0XFont@@QAE@PAVXImage@@@Z ENDP			; XFont::XFont
_TEXT	ENDS
;	COMDAT ??0XFontLetter@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??0XFontLetter@@QAE@XZ PROC NEAR			; XFontLetter::XFontLetter, COMDAT

; 333  : 	XFontLetter(void) : s(0.0f),t(0.0f),drawable(0){}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], 0
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+4], 0
	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx+8], 0
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0XFontLetter@@QAE@XZ ENDP				; XFontLetter::XFontLetter
_TEXT	ENDS
PUBLIC	??1XFont@@UAE@XZ				; XFont::~XFont
;	COMDAT ??_GXFont@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8
_this$ = -4
??_GXFont@@UAEPAXI@Z PROC NEAR				; XFont::`scalar deleting destructor', COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1XFont@@UAE@XZ			; XFont::~XFont
	mov	eax, DWORD PTR ___flags$[ebp]
	and	eax, 1
	test	eax, eax
	je	SHORT $L65203
	mov	ecx, DWORD PTR _this$[ebp]
	push	ecx
	call	??3@YAXPAX@Z				; operator delete
	add	esp, 4
$L65203:
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	4
??_GXFont@@UAEPAXI@Z ENDP				; XFont::`scalar deleting destructor'
_TEXT	ENDS
;	COMDAT ??_H@YGXPAXIHP6EX0@Z@Z
_TEXT	SEGMENT
___t$ = 8
___s$ = 12
___n$ = 16
___f$ = 20
??_H@YGXPAXIHP6EX0@Z@Z PROC NEAR			; `vector constructor iterator', COMDAT
	push	ebp
	mov	ebp, esp
$L65212:
	mov	eax, DWORD PTR ___n$[ebp]
	sub	eax, 1
	mov	DWORD PTR ___n$[ebp], eax
	cmp	DWORD PTR ___n$[ebp], 0
	jl	SHORT $L65213
	mov	ecx, DWORD PTR ___t$[ebp]
	call	DWORD PTR ___f$[ebp]
	mov	ecx, DWORD PTR ___t$[ebp]
	add	ecx, DWORD PTR ___s$[ebp]
	mov	DWORD PTR ___t$[ebp], ecx
	jmp	SHORT $L65212
$L65213:
	pop	ebp
	ret	16					; 00000010H
??_H@YGXPAXIHP6EX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
EXTRN	??1VidTexD3D@@UAE@XZ:NEAR			; VidTexD3D::~VidTexD3D
;	COMDAT ??1XFont@@UAE@XZ
_TEXT	SEGMENT
_this$ = -4
??1XFont@@UAE@XZ PROC NEAR				; XFont::~XFont, COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??1VidTexD3D@@UAE@XZ			; VidTexD3D::~VidTexD3D
	mov	esp, ebp
	pop	ebp
	ret	0
??1XFont@@UAE@XZ ENDP					; XFont::~XFont
_TEXT	ENDS
PUBLIC	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head
PUBLIC	?load_font@FontFile@@QAEPAVXFont@@XZ		; FontFile::load_font
PUBLIC	??0FontFile@@QAE@XZ				; FontFile::FontFile
PUBLIC	??1FontFile@@QAE@XZ				; FontFile::~FontFile
PUBLIC	?init_font@VidD3D@@IAEXXZ			; VidD3D::init_font
EXTRN	__imp_@xxx_fatal@4:NEAR
EXTRN	__imp_?open@XFile@@QAEKPBD0@Z:NEAR
_DATA	SEGMENT
$SG65223 DB	'r', 00H
	ORG $+2
$SG65224 DB	'resource\fontdata.gba', 00H
	ORG $+2
$SG65225 DB	'Unable to find required resource: resource\fontdata.gba', 00H
_DATA	ENDS
_TEXT	SEGMENT
_this$ = -72
_file$ = -68
?init_font@VidD3D@@IAEXXZ PROC NEAR			; VidD3D::init_font

; 10   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	mov	DWORD PTR _this$[ebp], ecx

; 11   : 	FontFile file;

	lea	ecx, DWORD PTR _file$[ebp]
	call	??0FontFile@@QAE@XZ			; FontFile::FontFile

; 12   : 
; 13   : 	if (!file.open("resource\\fontdata.gba","r"))

	push	OFFSET FLAT:$SG65223
	push	OFFSET FLAT:$SG65224
	lea	ecx, DWORD PTR _file$[ebp]
	call	DWORD PTR __imp_?open@XFile@@QAEKPBD0@Z
	test	eax, eax
	jne	SHORT $L65222

; 14   : 		xxx_fatal("Unable to find required resource: resource\\fontdata.gba");

	mov	ecx, OFFSET FLAT:$SG65225
	call	DWORD PTR __imp_@xxx_fatal@4
$L65222:

; 15   : 
; 16   : 	font=file.load_font();

	lea	ecx, DWORD PTR _file$[ebp]
	call	?load_font@FontFile@@QAEPAVXFont@@XZ	; FontFile::load_font
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+308], eax

; 17   : 	tex_list.add_head(font);

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+308]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 316				; 0000013cH
	call	?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ; XList<VidTexD3D>::add_head

; 18   : }

	lea	ecx, DWORD PTR _file$[ebp]
	call	??1FontFile@@QAE@XZ			; FontFile::~FontFile
	mov	esp, ebp
	pop	ebp
	ret	0
?init_font@VidD3D@@IAEXXZ ENDP				; VidD3D::init_font
_TEXT	ENDS
PUBLIC	??0?$autoptr@VXFont@@@@QAE@XZ			; autoptr<XFont>::autoptr<XFont>
PUBLIC	??_7FontFile@@6BCBaseStream@@@			; FontFile::`vftable'
PUBLIC	??_7FontFile@@6BCSysObj@@@			; FontFile::`vftable'
EXTRN	?seek_int@CBaseStream@@MAEJXZ:NEAR		; CBaseStream::seek_int
EXTRN	?ioctl_read@CBaseStream@@UAEKKK@Z:NEAR		; CBaseStream::ioctl_read
EXTRN	?ioctl_write@CBaseStream@@UAEKKK@Z:NEAR		; CBaseStream::ioctl_write
EXTRN	?put@CBaseStream@@UAEKD@Z:NEAR			; CBaseStream::put
EXTRN	?base_init@XFile@@EAEXXZ:NEAR			; XFile::base_init
EXTRN	?destroy@XFile@@EAEKXZ:NEAR			; XFile::destroy
EXTRN	?close@XFile@@UAEKXZ:NEAR			; XFile::close
EXTRN	?pos_rd@XFile@@UAEXKK@Z:NEAR			; XFile::pos_rd
EXTRN	?pos_wr@XFile@@UAEXKK@Z:NEAR			; XFile::pos_wr
EXTRN	?write@CBaseStream@@UAEKPBXK@Z:NEAR		; CBaseStream::write
EXTRN	?write@CBaseStream@@UAEKPBXKAAK@Z:NEAR		; CBaseStream::write
EXTRN	?read@CBaseStream@@UAEKPAXK@Z:NEAR		; CBaseStream::read
EXTRN	?read@CBaseStream@@UAEKPAXKAAK@Z:NEAR		; CBaseStream::read
EXTRN	?flush@CBaseStream@@UAEKXZ:NEAR			; CBaseStream::flush
EXTRN	??6CBaseStream@@UAEAAV0@D@Z:NEAR		; CBaseStream::operator<<
EXTRN	??6CBaseStream@@UAEAAV0@K@Z:NEAR		; CBaseStream::operator<<
EXTRN	??6CBaseStream@@UAEAAV0@PBD@Z:NEAR		; CBaseStream::operator<<
EXTRN	__imp_??0XFile@@QAE@XZ:NEAR
;	COMDAT ??_7FontFile@@6BCBaseStream@@@
CONST	SEGMENT
??_7FontFile@@6BCBaseStream@@@ DD FLAT:?base_init@XFile@@EAEXXZ ; FontFile::`vftable'
	DD	FLAT:?seek_int@CBaseStream@@MAEJXZ
	DD	FLAT:?close@XFile@@UAEKXZ
	DD	FLAT:?ioctl_read@CBaseStream@@UAEKKK@Z
	DD	FLAT:?ioctl_write@CBaseStream@@UAEKKK@Z
	DD	FLAT:?write@CBaseStream@@UAEKPBXK@Z
	DD	FLAT:?write@CBaseStream@@UAEKPBXKAAK@Z
	DD	FLAT:?read@CBaseStream@@UAEKPAXK@Z
	DD	FLAT:?read@CBaseStream@@UAEKPAXKAAK@Z
	DD	FLAT:?flush@CBaseStream@@UAEKXZ
	DD	FLAT:?put@CBaseStream@@UAEKD@Z
	DD	FLAT:??6CBaseStream@@UAEAAV0@D@Z
	DD	FLAT:??6CBaseStream@@UAEAAV0@K@Z
	DD	FLAT:??6CBaseStream@@UAEAAV0@PBD@Z
	DD	FLAT:?pos_rd@XFile@@UAEXKK@Z
	DD	FLAT:?pos_wr@XFile@@UAEXKK@Z
CONST	ENDS
;	COMDAT ??_7FontFile@@6BCSysObj@@@
CONST	SEGMENT
??_7FontFile@@6BCSysObj@@@ DD FLAT:?destroy@XFile@@EAEKXZ ; FontFile::`vftable'
CONST	ENDS
;	COMDAT ??0FontFile@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??0FontFile@@QAE@XZ PROC NEAR				; FontFile::FontFile, COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_??0XFile@@QAE@XZ
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??0?$autoptr@VXFont@@@@QAE@XZ		; autoptr<XFont>::autoptr<XFont>
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET FLAT:??_7FontFile@@6BCBaseStream@@@ ; FontFile::`vftable'
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+28], OFFSET FLAT:??_7FontFile@@6BCSysObj@@@ ; FontFile::`vftable'
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0FontFile@@QAE@XZ ENDP				; FontFile::FontFile
_TEXT	ENDS
PUBLIC	??1?$autoptr@VXFont@@@@QAE@XZ			; autoptr<XFont>::~autoptr<XFont>
EXTRN	__imp_??1XFile@@QAE@XZ:NEAR
;	COMDAT ??1FontFile@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??1FontFile@@QAE@XZ PROC NEAR				; FontFile::~FontFile, COMDAT
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??1?$autoptr@VXFont@@@@QAE@XZ		; autoptr<XFont>::~autoptr<XFont>
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_??1XFile@@QAE@XZ
	mov	esp, ebp
	pop	ebp
	ret	0
??1FontFile@@QAE@XZ ENDP				; FontFile::~FontFile
_TEXT	ENDS
PUBLIC	?SetFontTexture@VidD3D@@UAEXXZ			; VidD3D::SetFontTexture
_TEXT	SEGMENT
_this$ = -4
?SetFontTexture@VidD3D@@UAEXXZ PROC NEAR		; VidD3D::SetFontTexture

; 21   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 22   : 	TexActivate(font,VTA_NORMAL);

	push	0
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+308]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR [eax+164]

; 23   : }

	mov	esp, ebp
	pop	ebp
	ret	0
?SetFontTexture@VidD3D@@UAEXXZ ENDP			; VidD3D::SetFontTexture
_TEXT	ENDS
PUBLIC	?get_pitch@XFont@@QAEXPAM0@Z			; XFont::get_pitch
PUBLIC	?get_fontdim@VidD3D@@UAEXPAM0@Z			; VidD3D::get_fontdim
_TEXT	SEGMENT
_lwidth$ = 8
_lheight$ = 12
_this$ = -4
?get_fontdim@VidD3D@@UAEXPAM0@Z PROC NEAR		; VidD3D::get_fontdim

; 26   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 27   : 	font->get_pitch(lwidth,lheight);

	mov	eax, DWORD PTR _lheight$[ebp]
	push	eax
	mov	ecx, DWORD PTR _lwidth$[ebp]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx+308]
	call	?get_pitch@XFont@@QAEXPAM0@Z		; XFont::get_pitch

; 28   : }

	mov	esp, ebp
	pop	ebp
	ret	8
?get_fontdim@VidD3D@@UAEXPAM0@Z ENDP			; VidD3D::get_fontdim
_TEXT	ENDS
;	COMDAT ?get_pitch@XFont@@QAEXPAM0@Z
_TEXT	SEGMENT
_Width$ = 8
_Height$ = 12
_this$ = -4
?get_pitch@XFont@@QAEXPAM0@Z PROC NEAR			; XFont::get_pitch, COMDAT

; 351  : 	void get_pitch(float *Width,float *Height){*Width=width;*Height=height;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _Width$[ebp]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+3116]
	mov	DWORD PTR [eax], edx
	mov	eax, DWORD PTR _Height$[ebp]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+3120]
	mov	DWORD PTR [eax], edx
	mov	esp, ebp
	pop	ebp
	ret	8
?get_pitch@XFont@@QAEXPAM0@Z ENDP			; XFont::get_pitch
_TEXT	ENDS
PUBLIC	?get_letter@XFont@@QAEXDPAM0@Z			; XFont::get_letter
PUBLIC	?get_fontletter@VidD3D@@UAEXDPAM0@Z		; VidD3D::get_fontletter
_TEXT	SEGMENT
_key$ = 8
_s$ = 12
_t$ = 16
_this$ = -4
?get_fontletter@VidD3D@@UAEXDPAM0@Z PROC NEAR		; VidD3D::get_fontletter

; 31   : {

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 32   : 	font->get_letter(key,s,t);

	mov	eax, DWORD PTR _t$[ebp]
	push	eax
	mov	ecx, DWORD PTR _s$[ebp]
	push	ecx
	mov	dl, BYTE PTR _key$[ebp]
	push	edx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+308]
	call	?get_letter@XFont@@QAEXDPAM0@Z		; XFont::get_letter

; 33   : }

	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?get_fontletter@VidD3D@@UAEXDPAM0@Z ENDP		; VidD3D::get_fontletter
_TEXT	ENDS
PUBLIC	?get@XFontLetter@@QAEXPAM0@Z			; XFontLetter::get
;	COMDAT ?get_letter@XFont@@QAEXDPAM0@Z
_TEXT	SEGMENT
_letter$ = 8
_s$ = 12
_t$ = 16
_this$ = -4
?get_letter@XFont@@QAEXDPAM0@Z PROC NEAR		; XFont::get_letter, COMDAT

; 350  : 	void get_letter(char letter,float *s,float *t){letters[letter].get(s,t);}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _t$[ebp]
	push	eax
	mov	ecx, DWORD PTR _s$[ebp]
	push	ecx
	movsx	edx, BYTE PTR _letter$[ebp]
	imul	edx, 12					; 0000000cH
	mov	eax, DWORD PTR _this$[ebp]
	lea	ecx, DWORD PTR [eax+edx+44]
	call	?get@XFontLetter@@QAEXPAM0@Z		; XFontLetter::get
	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?get_letter@XFont@@QAEXDPAM0@Z ENDP			; XFont::get_letter
_TEXT	ENDS
;	COMDAT ?get@XFontLetter@@QAEXPAM0@Z
_TEXT	SEGMENT
_S$ = 8
_T$ = 12
_this$ = -4
?get@XFontLetter@@QAEXPAM0@Z PROC NEAR			; XFontLetter::get, COMDAT

; 335  : 	void get(float *S,float *T){*S=s;*T=t;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _S$[ebp]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	DWORD PTR [eax], edx
	mov	eax, DWORD PTR _T$[ebp]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	DWORD PTR [eax], edx
	mov	esp, ebp
	pop	ebp
	ret	8
?get@XFontLetter@@QAEXPAM0@Z ENDP			; XFontLetter::get
_TEXT	ENDS
PUBLIC	??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z	; autoptr<XFont>::operator=
PUBLIC	??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ		; autoptr<XFont>::operator->
PUBLIC	?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ	; autoptr<XFont>::release
PUBLIC	?set_letter@XFont@@QAEXDKK@Z			; XFont::set_letter
PUBLIC	?is_drawable@XFont@@QAEKD@Z			; XFont::is_drawable
EXTRN	__imp_?seek@XFile@@QAEKJK@Z:NEAR
EXTRN	__imp_??0XImage@@QAE@KKK@Z:NEAR
EXTRN	__imp_?get_data@XImage@@QAEPADXZ:NEAR
EXTRN	__imp_?get_width@XImage@@QAEKXZ:NEAR
EXTRN	__imp_?get_height@XImage@@QAEKXZ:NEAR
EXTRN	__imp_?get_bpp@XImage@@QAEKXZ:NEAR
EXTRN	_memset:NEAR
EXTRN	__imp_@xxx_throw@4:NEAR
_DATA	SEGMENT
$SG65252 DB	'FontFile::load_image: Invalid header', 00H
	ORG $+3
$SG65255 DB	'FontFile::load_image: Invalid marker', 00H
	ORG $+3
$SG65258 DB	'FontFile::load_image: Invalid version', 00H
	ORG $+2
$SG65260 DB	'FontFile::load_image: Containes too many frames', 00H
$SG65284 DB	'FontFile::load_image: read error', 00H
	ORG $+3
$SG65287 DB	'FontFile::load_image: read error', 00H
_DATA	ENDS
_TEXT	SEGMENT
$T65841 = -116
$T65844 = -120
_this$ = -124
_num_read$ = -16
_slot_x$ = -4
_slot_y$ = -8
_i$ = -24
_j$ = -28
_k$ = -32
_width$ = -12
_height$ = -36
_tex16$ = -20
_entry$65278 = -112
_frame$65279 = -80
?load_font@FontFile@@QAEPAVXFont@@XZ PROC NEAR		; FontFile::load_font

; 36   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 132				; 00000084H
	push	esi
	mov	DWORD PTR _this$[ebp], ecx

; 37   : 	using namespace NS_XFILE;
; 38   : 	U32 num_read;
; 39   : 
; 40   : 	if (!read(&header,sizeof(gbaheader_t),num_read))

	lea	eax, DWORD PTR _num_read$[ebp]
	push	eax
	push	16					; 00000010H
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 44					; 0000002cH
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR [eax+32]
	test	eax, eax
	jne	SHORT $L65251

; 41   : 		xxx_throw("FontFile::load_image: Invalid header");

	mov	ecx, OFFSET FLAT:$SG65252
	call	DWORD PTR __imp_@xxx_throw@4
$L65251:

; 42   : 
; 43   : 	if ((header.marker[0] != 'A') || (header.marker[1] != 'G') || (header.marker[2] != 'B') || (header.marker[3] != 'A'))

	mov	ecx, DWORD PTR _this$[ebp]
	movsx	edx, BYTE PTR [ecx+44]
	cmp	edx, 65					; 00000041H
	jne	SHORT $L65254
	mov	eax, DWORD PTR _this$[ebp]
	movsx	ecx, BYTE PTR [eax+45]
	cmp	ecx, 71					; 00000047H
	jne	SHORT $L65254
	mov	edx, DWORD PTR _this$[ebp]
	movsx	eax, BYTE PTR [edx+46]
	cmp	eax, 66					; 00000042H
	jne	SHORT $L65254
	mov	ecx, DWORD PTR _this$[ebp]
	movsx	edx, BYTE PTR [ecx+47]
	cmp	edx, 65					; 00000041H
	je	SHORT $L65253
$L65254:

; 44   : 		xxx_throw("FontFile::load_image: Invalid marker");

	mov	ecx, OFFSET FLAT:$SG65255
	call	DWORD PTR __imp_@xxx_throw@4
$L65253:

; 45   : 
; 46   : 	if ((header.versionMajor != 1) || (header.versionMinor != 0))

	mov	eax, DWORD PTR _this$[ebp]
	movsx	ecx, BYTE PTR [eax+48]
	cmp	ecx, 1
	jne	SHORT $L65257
	mov	edx, DWORD PTR _this$[ebp]
	movsx	eax, BYTE PTR [edx+49]
	test	eax, eax
	je	SHORT $L65256
$L65257:

; 47   : 		xxx_throw("FontFile::load_image: Invalid version");

	mov	ecx, OFFSET FLAT:$SG65258
	call	DWORD PTR __imp_@xxx_throw@4
$L65256:

; 48   : 
; 49   : 	if (header.numFrames>256)

	mov	ecx, DWORD PTR _this$[ebp]
	movsx	edx, WORD PTR [ecx+50]
	cmp	edx, 256				; 00000100H
	jle	SHORT $L65259

; 50   : 		xxx_throw("FontFile::load_image: Containes too many frames");

	mov	ecx, OFFSET FLAT:$SG65260
	call	DWORD PTR __imp_@xxx_throw@4
$L65259:

; 51   : 
; 52   : 	image=new XImage(256,256,IMG_FORMAT_ARGB_1555);

	push	16					; 00000010H
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65841[ebp], eax
	cmp	DWORD PTR $T65841[ebp], 0
	je	SHORT $L65842
	push	5
	push	256					; 00000100H
	push	256					; 00000100H
	mov	ecx, DWORD PTR $T65841[ebp]
	call	DWORD PTR __imp_??0XImage@@QAE@KKK@Z
	mov	DWORD PTR -128+[ebp], eax
	jmp	SHORT $L65843
$L65842:
	mov	DWORD PTR -128+[ebp], 0
$L65843:
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR -128+[ebp]
	mov	DWORD PTR [eax+60], ecx

; 53   : 	font=new XFont(image);

	push	3124					; 00000c34H
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T65844[ebp], eax
	cmp	DWORD PTR $T65844[ebp], 0
	je	SHORT $L65845
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+60]
	push	eax
	mov	ecx, DWORD PTR $T65844[ebp]
	call	??0XFont@@QAE@PAVXImage@@@Z		; XFont::XFont
	mov	DWORD PTR -132+[ebp], eax
	jmp	SHORT $L65846
$L65845:
	mov	DWORD PTR -132+[ebp], 0
$L65846:
	mov	ecx, DWORD PTR -132+[ebp]
	push	ecx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z ; autoptr<XFont>::operator=

; 54   : 
; 55   : 	/* blacken it */
; 56   : 	memset(image->get_data(),0,image->get_width()*image->get_height()*image->get_bpp());

	mov	edx, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx+60]
	call	DWORD PTR __imp_?get_width@XImage@@QAEKXZ
	mov	esi, eax
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	call	DWORD PTR __imp_?get_height@XImage@@QAEKXZ
	imul	esi, eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [ecx+60]
	call	DWORD PTR __imp_?get_bpp@XImage@@QAEKXZ
	imul	esi, eax
	push	esi
	push	0
	mov	edx, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx+60]
	call	DWORD PTR __imp_?get_data@XImage@@QAEPADXZ
	push	eax
	call	_memset
	add	esp, 12					; 0000000cH

; 57   : 
; 58   : 	U32 slot_x,slot_y;
; 59   : 	U32 i,j,k;
; 60   : 	U32 width=image->get_width();

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	call	DWORD PTR __imp_?get_width@XImage@@QAEKXZ
	mov	DWORD PTR _width$[ebp], eax

; 61   : 	U32 height=image->get_height();

	mov	ecx, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [ecx+60]
	call	DWORD PTR __imp_?get_height@XImage@@QAEKXZ
	mov	DWORD PTR _height$[ebp], eax

; 62   : 
; 63   : 	slot_x=slot_y=0;

	mov	DWORD PTR _slot_y$[ebp], 0
	mov	edx, DWORD PTR _slot_y$[ebp]
	mov	DWORD PTR _slot_x$[ebp], edx

; 64   : 	U16 *tex16=(U16 *)image->get_data();

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	call	DWORD PTR __imp_?get_data@XImage@@QAEPADXZ
	mov	DWORD PTR _tex16$[ebp], eax

; 65   : 	for (i=0;i<(U32)header.numFrames;i++)

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $L65275
$L65276:
	mov	ecx, DWORD PTR _i$[ebp]
	add	ecx, 1
	mov	DWORD PTR _i$[ebp], ecx
$L65275:
	mov	edx, DWORD PTR _this$[ebp]
	movsx	eax, WORD PTR [edx+50]
	cmp	DWORD PTR _i$[ebp], eax
	jae	$L65277

; 67   : 		gbaframeentry_t entry;
; 68   : 		gbaframe_t frame;
; 69   : 
; 70   : 		seek(sizeof(gbaheader_t) + i*sizeof(gbaframeentry_t),FILE_SEEK_SET);

	push	1
	mov	ecx, DWORD PTR _i$[ebp]
	shl	ecx, 5
	add	ecx, 16					; 00000010H
	push	ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_?seek@XFile@@QAEKJK@Z

; 71   : 		if (!read(&entry,sizeof(gbaframeentry_t),num_read))

	lea	edx, DWORD PTR _num_read$[ebp]
	push	edx
	push	32					; 00000020H
	lea	eax, DWORD PTR _entry$65278[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx]
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR [edx+32]
	test	eax, eax
	jne	SHORT $L65283

; 72   : 			xxx_throw("FontFile::load_image: read error");

	mov	ecx, OFFSET FLAT:$SG65284
	call	DWORD PTR __imp_@xxx_throw@4
$L65283:

; 73   : 		seek(entry.frameOfs,FILE_SEEK_SET);

	push	1
	mov	eax, DWORD PTR _entry$65278[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_?seek@XFile@@QAEKJK@Z

; 74   : 		if (!read(&frame,sizeof(gbaframe_t),num_read))

	lea	ecx, DWORD PTR _num_read$[ebp]
	push	ecx
	push	44					; 0000002cH
	lea	edx, DWORD PTR _frame$65279[ebp]
	push	edx
	mov	eax, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [eax]
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR [edx+32]
	test	eax, eax
	jne	SHORT $L65286

; 75   : 			xxx_throw("FontFile::load_image: read error");

	mov	ecx, OFFSET FLAT:$SG65287
	call	DWORD PTR __imp_@xxx_throw@4
$L65286:

; 76   : 
; 77   : 		font->set_letter(entry.frameName[0],slot_x*8,slot_y*8);

	mov	eax, DWORD PTR _slot_y$[ebp]
	shl	eax, 3
	push	eax
	mov	ecx, DWORD PTR _slot_x$[ebp]
	shl	ecx, 3
	push	ecx
	mov	dl, BYTE PTR _entry$65278[ebp+8]
	push	edx
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ	; autoptr<XFont>::operator->
	mov	ecx, eax
	call	?set_letter@XFont@@QAEXDKK@Z		; XFont::set_letter

; 78   : 		
; 79   : 		tex16=((U16 *)image->get_data()) + slot_y*width*8 + slot_x*8;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+60]
	call	DWORD PTR __imp_?get_data@XImage@@QAEPADXZ
	mov	ecx, DWORD PTR _slot_y$[ebp]
	imul	ecx, DWORD PTR _width$[ebp]
	shl	ecx, 3
	lea	edx, DWORD PTR [eax+ecx*2]
	mov	eax, DWORD PTR _slot_x$[ebp]
	shl	eax, 3
	lea	ecx, DWORD PTR [edx+eax*2]
	mov	DWORD PTR _tex16$[ebp], ecx

; 80   : 		for (j=0;j<FONTDATA_HEIGHT;j++)

	mov	DWORD PTR _j$[ebp], 0
	jmp	SHORT $L65289
$L65290:
	mov	edx, DWORD PTR _j$[ebp]
	add	edx, 1
	mov	DWORD PTR _j$[ebp], edx
$L65289:
	cmp	DWORD PTR _j$[ebp], 6
	jae	SHORT $L65291

; 82   : 			for (k=0;k<FONTDATA_WIDTH;k++)

	mov	DWORD PTR _k$[ebp], 0
	jmp	SHORT $L65292
$L65293:
	mov	eax, DWORD PTR _k$[ebp]
	add	eax, 1
	mov	DWORD PTR _k$[ebp], eax
$L65292:
	cmp	DWORD PTR _k$[ebp], 6
	jae	SHORT $L65294

; 84   : 				if (frame.data[j][k])

	mov	ecx, DWORD PTR _j$[ebp]
	imul	ecx, 6
	lea	edx, DWORD PTR _frame$65279[ebp+ecx+8]
	mov	eax, DWORD PTR _k$[ebp]
	movsx	ecx, BYTE PTR [edx+eax]
	test	ecx, ecx
	je	SHORT $L65295

; 85   : 					tex16[j*width + k]=0x8000 | (31<<10) | (31<<5) | 31;

	mov	edx, DWORD PTR _j$[ebp]
	imul	edx, DWORD PTR _width$[ebp]
	add	edx, DWORD PTR _k$[ebp]
	mov	eax, DWORD PTR _tex16$[ebp]
	mov	WORD PTR [eax+edx*2], 65535		; 0000ffffH
$L65295:

; 86   : 			}

	jmp	SHORT $L65293
$L65294:

; 87   : 		}

	jmp	SHORT $L65290
$L65291:

; 88   : 		slot_x+=1;

	mov	ecx, DWORD PTR _slot_x$[ebp]
	add	ecx, 1
	mov	DWORD PTR _slot_x$[ebp], ecx

; 89   : 		if (slot_x&0x8)

	mov	edx, DWORD PTR _slot_x$[ebp]
	and	edx, 8
	test	edx, edx
	je	SHORT $L65296

; 90   : 			slot_y++;

	mov	eax, DWORD PTR _slot_y$[ebp]
	add	eax, 1
	mov	DWORD PTR _slot_y$[ebp], eax
$L65296:

; 91   : 		slot_x&=0x7;

	mov	ecx, DWORD PTR _slot_x$[ebp]
	and	ecx, 7
	mov	DWORD PTR _slot_x$[ebp], ecx

; 92   : 	}

	jmp	$L65276
$L65277:

; 93   : 
; 94   : 	/* set space */
; 95   : 	if (!font->is_drawable(' '))

	push	32					; 00000020H
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ	; autoptr<XFont>::operator->
	mov	ecx, eax
	call	?is_drawable@XFont@@QAEKD@Z		; XFont::is_drawable
	test	eax, eax
	jne	SHORT $L65297

; 96   : 		font->set_letter(' ',slot_x*8,slot_y*8);

	mov	edx, DWORD PTR _slot_y$[ebp]
	shl	edx, 3
	push	edx
	mov	eax, DWORD PTR _slot_x$[ebp]
	shl	eax, 3
	push	eax
	push	32					; 00000020H
	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ	; autoptr<XFont>::operator->
	mov	ecx, eax
	call	?set_letter@XFont@@QAEXDKK@Z		; XFont::set_letter
$L65297:

; 97   : 	
; 98   : 	return font.release();

	mov	ecx, DWORD PTR _this$[ebp]
	add	ecx, 64					; 00000040H
	call	?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ ; autoptr<XFont>::release

; 99   : }

	pop	esi
	mov	esp, ebp
	pop	ebp
	ret	0
?load_font@FontFile@@QAEPAVXFont@@XZ ENDP		; FontFile::load_font
_TEXT	ENDS
PUBLIC	?set@XFontLetter@@QAEXMM@Z			; XFontLetter::set
PUBLIC	?set_drawable@XFontLetter@@QAEXK@Z		; XFontLetter::set_drawable
PUBLIC	__real@4@40078000000000000000
;	COMDAT __real@4@40078000000000000000
; File D:\Games\duke_nukem_forever\Hacked\MeshEd\vidd3d\vidd3d.h
CONST	SEGMENT
__real@4@40078000000000000000 DD 043800000r	; 256
CONST	ENDS
;	COMDAT ?set_letter@XFont@@QAEXDKK@Z
_TEXT	SEGMENT
_letter$ = 8
_s$ = 12
_t$ = 16
_this$ = -4
?set_letter@XFont@@QAEXDKK@Z PROC NEAR			; XFont::set_letter, COMDAT

; 346  : 	{

	push	ebp
	mov	ebp, esp
	sub	esp, 20					; 00000014H
	mov	DWORD PTR _this$[ebp], ecx

; 347  : 		letters[letter].set(s/256.0f,t/256.0f);

	mov	eax, DWORD PTR _t$[ebp]
	mov	DWORD PTR -12+[ebp], eax
	mov	DWORD PTR -12+[ebp+4], 0
	fild	QWORD PTR -12+[ebp]
	fdiv	DWORD PTR __real@4@40078000000000000000
	push	ecx
	fstp	DWORD PTR [esp]
	mov	ecx, DWORD PTR _s$[ebp]
	mov	DWORD PTR -20+[ebp], ecx
	mov	DWORD PTR -20+[ebp+4], 0
	fild	QWORD PTR -20+[ebp]
	fdiv	DWORD PTR __real@4@40078000000000000000
	push	ecx
	fstp	DWORD PTR [esp]
	movsx	edx, BYTE PTR _letter$[ebp]
	imul	edx, 12					; 0000000cH
	mov	eax, DWORD PTR _this$[ebp]
	lea	ecx, DWORD PTR [eax+edx+44]
	call	?set@XFontLetter@@QAEXMM@Z		; XFontLetter::set

; 348  : 		letters[letter].set_drawable(TRUE);

	push	1
	movsx	ecx, BYTE PTR _letter$[ebp]
	imul	ecx, 12					; 0000000cH
	mov	edx, DWORD PTR _this$[ebp]
	lea	ecx, DWORD PTR [edx+ecx+44]
	call	?set_drawable@XFontLetter@@QAEXK@Z	; XFontLetter::set_drawable

; 349  : 	}

	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?set_letter@XFont@@QAEXDKK@Z ENDP			; XFont::set_letter
_TEXT	ENDS
;	COMDAT ?set@XFontLetter@@QAEXMM@Z
_TEXT	SEGMENT
_S$ = 8
_T$ = 12
_this$ = -4
?set@XFontLetter@@QAEXMM@Z PROC NEAR			; XFontLetter::set, COMDAT

; 334  : 	void set(float S,float T){s=S;t=T;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _S$[ebp]
	mov	DWORD PTR [eax], ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _T$[ebp]
	mov	DWORD PTR [edx+4], eax
	mov	esp, ebp
	pop	ebp
	ret	8
?set@XFontLetter@@QAEXMM@Z ENDP				; XFontLetter::set
_TEXT	ENDS
;	COMDAT ?set_drawable@XFontLetter@@QAEXK@Z
_TEXT	SEGMENT
_enable$ = 8
_this$ = -4
?set_drawable@XFontLetter@@QAEXK@Z PROC NEAR		; XFontLetter::set_drawable, COMDAT

; 336  : 	void set_drawable(U32 enable){drawable=enable;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _enable$[ebp]
	mov	DWORD PTR [eax+8], ecx
	mov	esp, ebp
	pop	ebp
	ret	4
?set_drawable@XFontLetter@@QAEXK@Z ENDP			; XFontLetter::set_drawable
_TEXT	ENDS
;	COMDAT ?is_drawable@XFont@@QAEKD@Z
_TEXT	SEGMENT
_letter$ = 8
_this$ = -4
?is_drawable@XFont@@QAEKD@Z PROC NEAR			; XFont::is_drawable, COMDAT

; 352  : 	U32 is_drawable(char letter){return letters[letter].drawable;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	movsx	eax, BYTE PTR _letter$[ebp]
	imul	eax, 12					; 0000000cH
	mov	ecx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [ecx+eax+52]
	mov	esp, ebp
	pop	ebp
	ret	4
?is_drawable@XFont@@QAEKD@Z ENDP			; XFont::is_drawable
_TEXT	ENDS
;	COMDAT ??0?$autoptr@VXFont@@@@QAE@XZ
_TEXT	SEGMENT
_this$ = -4
??0?$autoptr@VXFont@@@@QAE@XZ PROC NEAR			; autoptr<XFont>::autoptr<XFont>, COMDAT

; 33   : 	inline autoptr(void) : ptr(null) {}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], 0
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0?$autoptr@VXFont@@@@QAE@XZ ENDP			; autoptr<XFont>::autoptr<XFont>
_TEXT	ENDS
;	COMDAT ??1?$autoptr@VXFont@@@@QAE@XZ
_TEXT	SEGMENT
$T65860 = -4
$T65861 = -8
_this$ = -12
??1?$autoptr@VXFont@@@@QAE@XZ PROC NEAR			; autoptr<XFont>::~autoptr<XFont>, COMDAT

; 35   : 	inline ~autoptr(void){delete ptr;ptr=null;}

	push	ebp
	mov	ebp, esp
	sub	esp, 16					; 00000010H
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR $T65861[ebp], ecx
	mov	edx, DWORD PTR $T65861[ebp]
	mov	DWORD PTR $T65860[ebp], edx
	cmp	DWORD PTR $T65860[ebp], 0
	je	SHORT $L65862
	push	1
	mov	eax, DWORD PTR $T65860[ebp]
	mov	edx, DWORD PTR [eax]
	mov	ecx, DWORD PTR $T65860[ebp]
	call	DWORD PTR [edx]
	mov	DWORD PTR -16+[ebp], eax
	jmp	SHORT $L65863
$L65862:
	mov	DWORD PTR -16+[ebp], 0
$L65863:
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], 0
	mov	esp, ebp
	pop	ebp
	ret	0
??1?$autoptr@VXFont@@@@QAE@XZ ENDP			; autoptr<XFont>::~autoptr<XFont>
_TEXT	ENDS
;	COMDAT ??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z
_TEXT	SEGMENT
_p$ = 8
_this$ = -4
??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z PROC NEAR	; autoptr<XFont>::operator=, COMDAT

; 37   : 	{

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx

; 38   : 		ptr=p;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _p$[ebp]
	mov	DWORD PTR [eax], ecx

; 39   : 		return *this;

	mov	eax, DWORD PTR _this$[ebp]

; 40   : 	}

	mov	esp, ebp
	pop	ebp
	ret	4
??4?$autoptr@VXFont@@@@QAEAAV0@PAVXFont@@@Z ENDP	; autoptr<XFont>::operator=
_TEXT	ENDS
;	COMDAT ??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ
_TEXT	SEGMENT
_this$ = -4
??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ PROC NEAR	; autoptr<XFont>::operator->, COMDAT

; 44   : 	inline X *operator -> () {return ptr;}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [eax]
	mov	esp, ebp
	pop	ebp
	ret	0
??C?$autoptr@VXFont@@@@QAEPAVXFont@@XZ ENDP		; autoptr<XFont>::operator->
_TEXT	ENDS
;	COMDAT ?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ
_TEXT	SEGMENT
_this$ = -8
_ret$ = -4
?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ PROC NEAR	; autoptr<XFont>::release, COMDAT

; 50   : 	{

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 51   : 		X *ret=ptr;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _ret$[ebp], ecx

; 52   : 		ptr=null;

	mov	edx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [edx], 0

; 53   : 		return ret;

	mov	eax, DWORD PTR _ret$[ebp]

; 54   : 	}

	mov	esp, ebp
	pop	ebp
	ret	0
?release@?$autoptr@VXFont@@@@QAEPAVXFont@@XZ ENDP	; autoptr<XFont>::release
_TEXT	ENDS
PUBLIC	?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ; XList<VidTexD3D>::new_node
;	COMDAT ?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z
_TEXT	SEGMENT
_ptr$ = 8
_this$ = -8
_node$ = -4
?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z PROC NEAR ; XList<VidTexD3D>::add_head, COMDAT

; 450  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 8
	mov	DWORD PTR _this$[ebp], ecx

; 451  : 	if (!free)

	mov	eax, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [eax+8], 0
	jne	SHORT $L65517

; 452  : 		free=new_node();

	mov	ecx, DWORD PTR _this$[ebp]
	call	?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ; XList<VidTexD3D>::new_node
	mov	ecx, DWORD PTR _this$[ebp]
	mov	DWORD PTR [ecx+8], eax
$L65517:

; 453  : 
; 454  : 	XNode *node=free;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR _node$[ebp], eax

; 455  : 
; 456  : 	free=free->next;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+8]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [edx]
	mov	DWORD PTR [eax+8], ecx

; 457  : 	node->data=ptr;

	mov	edx, DWORD PTR _node$[ebp]
	mov	eax, DWORD PTR _ptr$[ebp]
	mov	DWORD PTR [edx+8], eax

; 458  : 	
; 459  : 	node->next=head;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	DWORD PTR [ecx], eax

; 460  : 	node->prev=null;

	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [ecx+4], 0

; 461  : 	if (!head)

	mov	edx, DWORD PTR _this$[ebp]
	cmp	DWORD PTR [edx], 0
	jne	SHORT $L65519

; 462  : 		tail=node;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [eax+4], ecx

; 463  : 	else

	jmp	SHORT $L65520
$L65519:

; 464  : 		head->prev=node;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx]
	mov	ecx, DWORD PTR _node$[ebp]
	mov	DWORD PTR [eax+4], ecx
$L65520:

; 465  : 	
; 466  : 	head=node;

	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR _node$[ebp]
	mov	DWORD PTR [edx], eax

; 467  : 
; 468  : 	return (XPos *)head;

	mov	ecx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [ecx]

; 469  : }

	mov	esp, ebp
	pop	ebp
	ret	4
?add_head@?$XList@VVidTexD3D@@@@QAEPAU_XPos@@PAVVidTexD3D@@@Z ENDP ; XList<VidTexD3D>::add_head
_TEXT	ENDS
EXTRN	__imp_@xlist_new_node@8:NEAR
;	COMDAT ?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ
_TEXT	SEGMENT
_this$ = -4
?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ PROC NEAR ; XList<VidTexD3D>::new_node, COMDAT

; 352  : 	inline XNode *new_node(void){return (XNode *)xlist_new_node(&this->head,sizeof(XNode));}

	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	edx, 12					; 0000000cH
	mov	ecx, DWORD PTR _this$[ebp]
	call	DWORD PTR __imp_@xlist_new_node@8
	mov	esp, ebp
	pop	ebp
	ret	0
?new_node@?$XList@VVidTexD3D@@@@IAEPAUXNode@1@XZ ENDP	; XList<VidTexD3D>::new_node
_TEXT	ENDS
END
